(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0880e438","chunk-2d2315e9","chunk-2d21a7c3"],{2631:function(e,t,n){"use strict";var r=n("31b7"),a=n.n(r);a.a},"31b7":function(e,t,n){},4594:function(e,t,n){"use strict";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"container"},[n("div",{staticClass:"header"},[n("div",{staticClass:"title"},[e._v(e._s(e.collection_info.collection_name)+" "),n("i",{staticClass:"el-icon-edit",on:{click:function(t){e.collection_info_dialog_visible=!0}}})]),n("el-button",{staticStyle:{float:"right"},attrs:{type:"primary",size:"small",icon:"el-icon-setting"},on:{click:function(t){e.config_dialog_visible=!0}}})],1),n("div",{staticClass:"body"},[n("el-card",{staticClass:"pocket-card"},[n("el-button",{staticClass:"run-button",attrs:{type:"success",disabled:1===e.pocket_list.length&&0===e.current_choose_case_id_list.length},on:{click:e.doExecute}},[e._v("\n        执 行\n        "),e.execute_button_loading?n("i",{staticClass:"el-icon-loading"}):n("i",{staticClass:"el-icon-video-play"})]),n("div",{staticClass:"tree-list"},[n("vue-scroll",[n("el-tree",{ref:"tree",staticStyle:{"margin-top":"10px"},attrs:{data:e.pocket_list,props:e.defaultProps,"allow-drop":e.allowDrop,"default-expanded-keys":e.default_expanded_key,"node-key":"id",draggable:"","highlight-current":"",accordion:""},on:{"node-click":e.handleNodeClick,"node-drag-end":e.handleDragEnd},scopedSlots:e._u([{key:"default",fn:function(t){var r=t.node,a=t.data;return[n("span",{staticClass:"custom-tree-node father"},[1===r.level?n("span",{staticClass:"node-icon"},[n("i",{staticClass:"el-icon-folder"})]):e._e(),n("span",{staticClass:"node-title"},[e._v(e._s(r.label))]),1===r.level?n("span",{staticClass:"node-operate child"},[n("el-tooltip",{staticClass:"item",attrs:{effect:"dark","open-delay":200,content:"新增模块",placement:"top"}},[n("i",{staticClass:"el-icon-circle-plus-outline",on:{click:function(t){return t.stopPropagation(),e.createNewPocket(t)}}})]),n("el-tooltip",{staticClass:"item",attrs:{effect:"dark","open-delay":200,content:"重命名",placement:"top"}},[n("i",{staticClass:"el-icon-edit",on:{click:function(t){return t.stopPropagation(),e.updatePocket(a)}}})]),n("el-tooltip",{staticClass:"item",attrs:{effect:"dark","open-delay":200,content:"删除",placement:"top"}},[n("i",{staticClass:"el-icon-delete",on:{click:function(t){return t.stopPropagation(),e.deletePocket(a.id)}}})])],1):e._e(),2===r.level?n("span",{staticClass:"node-operate child"},[n("el-tooltip",{staticClass:"item",attrs:{effect:"dark","open-delay":200,content:"删除",placement:"top"}},[n("i",{staticClass:"el-icon-delete",on:{click:function(t){return t.stopPropagation(),e.deleteCase(a)}}})])],1):e._e()])]}}])})],1)],1)],1),n("el-card",{staticClass:"case-manage-card"},[n("el-row",[n("el-input",{staticClass:"row-name",attrs:{placeholder:"接口名称",size:"small"},on:{change:e.refreshTableInfo},model:{value:e.search.case_name,callback:function(t){e.$set(e.search,"case_name",t)},expression:"search.case_name"}}),n("el-select",{staticClass:"row-category",attrs:{placeholder:"分 类",clearable:"",size:"small",filterable:""},on:{change:e.refreshTableInfo},model:{value:e.search.category,callback:function(t){e.$set(e.search,"category",t)},expression:"search.category"}},e._l(e.category_list,function(e){return n("el-option",{key:e.category_name,attrs:{label:e.category_name,value:e.category_name}})}),1),n("el-select",{staticClass:"row-creator",attrs:{placeholder:"创建人",clearable:"",size:"small",filterable:""},on:{change:e.refreshTableInfo},model:{value:e.search.creator_code,callback:function(t){e.$set(e.search,"creator_code",t)},expression:"search.creator_code"}},e._l(e.creator_list,function(t){return n("el-option",{key:t.creator_code,attrs:{label:t.creator_name,value:t.creator_code}},[n("span",{staticClass:"creator-name"},[e._v(e._s(t.creator_name))]),n("span",{staticStyle:{float:"right",color:"#8492a6","font-size":"13px"}},[e._v(e._s(t.creator_code))])])}),1),n("el-pagination",{staticStyle:{float:"right"},attrs:{background:"",small:"","current-page":e.search.page,"page-size":e.search.count,"page-sizes":[10,20,50,100],total:e.total,layout:"sizes, prev, pager, next"},on:{"size-change":e.handleSizeChange,"current-change":e.handleCurrentChange}})],1),n("div",{staticClass:"case-table"},[n("vue-scroll",[n("el-table",{ref:"multipleTable",attrs:{data:e.case_list,"tooltip-effect":"dark",stripe:""},on:{"select-all":e.selectAll,select:e.rowSelect}},[n("el-table-column",{attrs:{type:"selection",width:"35",fixed:""}}),n("el-table-column",{attrs:{prop:"case_name",label:"接口名称","min-width":"200",fixed:""}}),n("el-table-column",{attrs:{label:"备注",fixed:""},scopedSlots:e._u([{key:"default",fn:function(t){return[t.row.description?n("el-tooltip",{attrs:{effect:"dark",placement:"top-start"}},[n("div",{attrs:{slot:"content"},slot:"content"},[e._v(e._s(t.row.description))]),n("l-icon",{attrs:{name:"read",color:"#409EFF",height:"1.6em",width:"1.6em"}})],1):n("l-icon",{attrs:{name:"read",color:"#ccc",height:"1.6em",width:"1.6em"}})]}}])}),n("el-table-column",{attrs:{prop:"api_method","min-width":"100",label:"请求方式"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("div",{class:t.row.api_method},[e._v(e._s(t.row.api_method))])]}}])}),n("el-table-column",{attrs:{label:"接口路径",prop:"api_url","show-overflow-tooltip":!0,"min-width":"440"}}),n("el-table-column",{attrs:{prop:"category",label:"分 类","min-width":"100",sortable:""}}),n("el-table-column",{attrs:{prop:"creator_name",label:"创建人",width:"120"}}),n("el-table-column",{attrs:{align:"center",fixed:"right",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[n("el-tooltip",{attrs:{content:"编辑",placement:"bottom",enterable:!1,effect:"dark"}},[n("el-button",{attrs:{type:"primary",icon:"el-icon-edit",circle:"",size:"mini"},on:{click:function(n){return e.handleEdit(t.row)}}})],1)]}}])})],1)],1)],1)],1)],1),n("el-dialog",{attrs:{visible:e.collection_info_dialog_visible,width:"400px","close-on-click-modal":!1},on:{"update:visible":function(t){e.collection_info_dialog_visible=t}}},[n("el-form",{ref:"collection_info",attrs:{model:e.collection_info,"label-width":"80px"}},[n("el-form-item",{attrs:{prop:"collection_name",label:"集合名"}},[n("el-input",{staticStyle:{width:"240px"},model:{value:e.collection_info.collection_name,callback:function(t){e.$set(e.collection_info,"collection_name",t)},expression:"collection_info.collection_name"}})],1),n("el-form-item",{attrs:{prop:"description",label:"描述"}},[n("el-input",{staticStyle:{width:"240px"},model:{value:e.collection_info.description,callback:function(t){e.$set(e.collection_info,"description",t)},expression:"collection_info.description"}})],1)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:e.updateCollection}},[e._v("保 存")]),n("el-button",{on:{click:e.closeCollectionEdit}},[e._v("取 消")])],1)],1),n("el-dialog",{attrs:{visible:e.config_dialog_visible},on:{"update:visible":function(t){e.config_dialog_visible=t}}},[n("el-form",{attrs:{"label-width":"80px"}},[n("el-form-item",{attrs:{label:"定时任务"}},[n("el-switch",{attrs:{"active-color":"#13ce66"},model:{value:e.collection_info.timing_switch,callback:function(t){e.$set(e.collection_info,"timing_switch",t)},expression:"collection_info.timing_switch"}}),n("el-input",{directives:[{name:"show",rawName:"v-show",value:e.collection_info.timing_switch,expression:"collection_info.timing_switch"}],staticStyle:{width:"240px","margin-left":"20px"},attrs:{placeholder:"请输入cron表达式",clearable:""},model:{value:e.collection_info.cron,callback:function(t){e.$set(e.collection_info,"cron",t)},expression:"collection_info.cron"}},[e.collection_info.timing_switch?n("el-button",{attrs:{slot:"append",type:"primary",icon:"el-icon-time"},on:{click:function(t){e.timing_dialog_visible=!0}},slot:"append"}):e._e()],1)],1),n("el-form-item",{attrs:{label:"微信推送"}},[n("el-radio-group",{on:{change:e.pushListChange},model:{value:e.collection_info.push_type,callback:function(t){e.$set(e.collection_info,"push_type",t)},expression:"collection_info.push_type"}},e._l(e.push_type_list,function(t){return n("el-radio",{key:t.label,attrs:{label:t.label}},[e._v(e._s(t.value))])}),1)],1),n("el-form-item",{attrs:{label:"推送列表"}},[n("el-select",{staticStyle:{width:"200px"},attrs:{multiple:"",filterable:"",disabled:e.push_list_visible,placeholder:"请选择"},model:{value:e.collection_info.push_list,callback:function(t){e.$set(e.collection_info,"push_list",t)},expression:"collection_info.push_list"}},e._l(e.tester_list,function(e){return n("el-option",{key:e.creator_code,attrs:{label:e.creator_name,value:e.creator_code}})}),1)],1)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:e.updateCollection}},[e._v("保 存")]),n("el-button",{on:{click:function(t){e.config_dialog_visible=!1}}},[e._v("取 消")])],1)],1),n("el-dialog",{attrs:{visible:e.pocket_dialog_visible,"destroy-on-close":"",width:"400px"},on:{"update:visible":function(t){e.pocket_dialog_visible=t}}},[n("el-form",{attrs:{"label-width":"80px"}},[n("el-form-item",{attrs:{label:"模块名"}},[n("el-input",{staticStyle:{width:"240px"},attrs:{placeholder:"请输入名称"},model:{value:e.pocket_info.pocket_name,callback:function(t){e.$set(e.pocket_info,"pocket_name",t)},expression:"pocket_info.pocket_name"}})],1)],1),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:e.pocketSave}},[e._v("保 存")]),n("el-button",{on:{click:function(t){e.pocket_dialog_visible=!1}}},[e._v("取 消")])],1)],1),n("el-dialog",{attrs:{visible:e.timing_dialog_visible,"destroy-on-close":"",width:"800px","show-close":!1,"close-on-click-modal":!1},on:{"update:visible":function(t){e.timing_dialog_visible=t}}},[n("lyn-cron",{model:{value:e.collection_info.cron,callback:function(t){e.$set(e.collection_info,"cron",t)},expression:"collection_info.cron"}}),n("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[n("el-button",{attrs:{type:"primary"},on:{click:function(t){e.timing_dialog_visible=!1}}},[e._v("确 定")])],1)],1),n("el-drawer",{attrs:{visible:e.drawer_visible,"with-header":!1,size:"70%"},on:{"update:visible":function(t){e.drawer_visible=t}}},[e.drawer_visible?n("http-case-edit",{attrs:{"case-info":e.case_info,"operation-type":"2"},on:{"drawer-close":e.drawerClose}}):e._e()],1)],1)},a=[],i=n("a34a"),o=n.n(i),c=n("781e"),s=n("bc5a"),l=n("104e"),u=n("eff8"),p=n("d3c9"),f=n("1aa7");function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(n,!0).forEach(function(t){_(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function _(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(l){return void n(l)}c.done?t(s):Promise.resolve(s).then(r,a)}function b(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var i=e.apply(t,n);function o(e){v(i,r,a,o,c,"next",e)}function c(e){v(i,r,a,o,c,"throw",e)}o(void 0)})}}var k={components:{LynCron:c["default"],HttpCaseEdit:f["default"]},data:function(){return{execute_button_loading:!1,collection_id:null,current_pocket_id:null,collection_info:{},push_type_list:[{label:1,value:"不推送"},{label:2,value:"失败时推送"},{label:3,value:"总是推送"}],push_list_visible:!1,collection_info_dialog_visible:!1,config_dialog_visible:!1,pocket_dialog_visible:!1,timing_dialog_visible:!1,drawer_visible:!1,pocket_operation_type:0,search:{count:10,page:1,case_name:"",category:"",creator_code:""},total:0,creator_list:[],category_list:[],case_list:[],case_info:{},pocket_list:[],default_expanded_key:[],pocket_info:{collection_id:null,pocket_name:""},current_choose_case_id_list:[],tester_list:[],defaultProps:{children:"children",label:"name"}}},mounted:function(){this.getCategoryList(),this.getCreatorList(),this.pageInit()},watch:{$route:function(){this.pageInit()}},methods:{getCategoryList:function(){var e=b(o.a.mark(function e(){var t;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,p["default"].getCategoryList();case 2:t=e.sent,this.category_list=t;case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),getCreatorList:function(){var e=b(o.a.mark(function e(){var t;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l["default"].getCreatorList();case 2:t=e.sent,this.creator_list=t;case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),pageInit:function(){var e=b(o.a.mark(function e(){return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.collection_id=this.$route.params.id,this.getCollectionDetail(),e.next=4,this.getPocketList();case 4:return e.next=6,this.pocketDefaultExpanded();case 6:return e.next=8,this.setPocketCaseIdList();case 8:return e.next=10,this.refreshTableInfo();case 10:return e.next=12,this.getPushList();case 12:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),getPushList:function(){var e=b(o.a.mark(function e(){return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l["default"].getCreatorList();case 2:this.tester_list=e.sent;case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),getCollectionDetail:function(){var e=b(o.a.mark(function e(){return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s["default"].getCollectionDetail(this.collection_id);case 2:this.collection_info=e.sent,this.push_list_visible=1===this.collection_info.push_type;case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),getPocketList:function(){var e=b(o.a.mark(function e(){return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s["default"].getPocketInfo(this.collection_id);case 2:this.pocket_list=e.sent;case 3:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),pocketDefaultExpanded:function(){this.current_pocket_id=this.pocket_list[0].id,this.default_expanded_key=[this.pocket_list[0].id]},setPocketCaseIdList:function(){var e=b(o.a.mark(function e(){var t=this;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.current_choose_case_id_list=[],this.pocket_list.forEach(function(e){if(e.id!==t.current_pocket_id)return!1;e.children.forEach(function(e){t.current_choose_case_id_list.push(e.business_id)})});case 2:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),refreshTableInfo:function(){var e=b(o.a.mark(function e(){return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,this.searchCaseList();case 2:return e.next=4,this.refreshCaseChooseType();case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),searchCaseList:function(){var e=b(o.a.mark(function e(){var t;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l["default"].searchCaseList(this.search);case 2:t=e.sent,this.case_list=t.items,this.total=t.total;case 5:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),refreshCaseChooseType:function(){var e=b(o.a.mark(function e(){var t=this;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.case_list.forEach(function(e){t.current_choose_case_id_list.indexOf(e.id)>-1&&t.$refs.multipleTable.toggleRowSelection(e,!0)});case 1:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),handleEdit:function(e){this.drawer_visible=!0,this.case_info=h({},e)},updateCollection:function(){var e=b(o.a.mark(function e(){var t;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s["default"].updateCollection(this.collection_info);case 2:t=e.sent,t.code<window.MAX_SUCCESS_CODE?(this.collection_info_dialog_visible=!1,this.config_dialog_visible=!1):this.$message.error("服务端异常");case 4:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),closeCollectionEdit:function(){this.collection_info_dialog_visible=!1,this.$refs.collection_info.resetFields()},pushListChange:function(e){this.push_list_visible=1===e},handleNodeClick:function(){var e=b(o.a.mark(function e(t,n){var r;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(2!==n.level){e.next=2;break}return e.abrupt("return");case 2:return r=1===n.level?t.id:n.parent.data.id,this.current_pocket_id=r,this.default_expanded_key=[r],this.setPocketCaseIdList(),this.getPocketList(),e.next=9,this.refreshTableInfo();case 9:case"end":return e.stop()}},e,this)}));function t(t,n){return e.apply(this,arguments)}return t}(),handleDragEnd:function(){var e=b(o.a.mark(function e(t,n,r){var a,i;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if("none"!==r&&void 0!==r){e.next=2;break}return e.abrupt("return");case 2:return a=[t.level],i=null,1===t.level?i=n.parent.data:2===t.level&&(i=n.parent.data.children),this.getNodeTree(i,t.data.id,a),e.next=8,s["default"].nodePosition(a);case 8:case"end":return e.stop()}},e,this)}));function t(t,n,r){return e.apply(this,arguments)}return t}(),getNodeTree:function(e,t,n){if(e)for(var r=0;r<e.length;r++)if(e[r].id===t)return n[1]=r-1>=0?e[r-1].id:0,n[2]=e[r].id,void(n[3]=r+1<e.length?e[r+1].id:0)},allowDrop:function(e,t,n){return e.level===t.level&&"inner"!==n},createNewPocket:function(){this.pocket_dialog_visible=!0,this.pocket_operation_type=1,this.pocket_info.pocket_name="",this.pocket_info.collection_id=this.collection_id},updatePocket:function(e){this.pocket_dialog_visible=!0,this.pocket_operation_type=2,this.pocket_info={id:e.id,pocket_name:e.name}},deletePocket:function(){var e=b(o.a.mark(function e(t){var n=this;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(!(this.pocket_list.length<=1)){e.next=3;break}return this.$message.error("至少保留一个模块"),e.abrupt("return");case 3:this.$confirm("确定要删除吗?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then(b(o.a.mark(function e(){var r;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s["default"].deletePocket(t);case 2:r=e.sent,r.code<window.MAX_SUCCESS_CODE?(n.$message.success(r.message),n.pageInit()):n.$message.error("删除功能异常");case 4:case"end":return e.stop()}},e)})));case 4:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),pocketSave:function(){var e=b(o.a.mark(function e(){var t,n;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(2!==this.pocket_operation_type){e.next=7;break}return e.next=3,s["default"].updatePocket(this.pocket_info);case 3:t=e.sent,t.code<window.MAX_SUCCESS_CODE?(this.$message.success(t.message),this.pocket_dialog_visible=!1,this.getPocketList()):this.$message.error("服务端异常"),e.next=23;break;case 7:if(1!==this.pocket_operation_type){e.next=23;break}return e.next=10,s["default"].createPocket(this.pocket_info);case 10:if(t=e.sent,!(t.code<window.MAX_SUCCESS_CODE)){e.next=22;break}return this.pocket_dialog_visible=!1,this.getPocketList(),n=Number(t.message),this.default_expanded_key=[n],this.current_pocket_id=n,this.current_choose_case_id_list=[],e.next=20,this.refreshTableInfo();case 20:e.next=23;break;case 22:this.$message.error("服务端异常");case 23:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),selectAll:function(){var e=b(o.a.mark(function e(t){var n,r=this;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(n=[],0!==t.length){e.next=7;break}return this.case_list.forEach(function(){var e=b(o.a.mark(function e(t){var a;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:a={pocket_id:r.current_pocket_id,case_id:t.id,case_name:t.case_name},n.push(a),r.current_choose_case_id_list.splice(r.current_choose_case_id_list.indexOf(t.id),1);case 3:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),e.next=5,s["default"].batchDeleteCase(n);case 5:e.next=10;break;case 7:return t.forEach(function(){var e=b(o.a.mark(function e(t){var a;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:r.current_choose_case_id_list.includes(t.id)||(a={pocket_id:r.current_pocket_id,case_id:t.id,case_name:t.case_name},n.push(a),r.current_choose_case_id_list.push(t.id));case 1:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}()),e.next=10,s["default"].batchInsertCase(n);case 10:this.getPocketList(),this.default_expanded_key=[this.current_pocket_id];case 12:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),rowSelect:function(){var e=b(o.a.mark(function e(t,n){var r,a,i,c;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(r=!1,a=n.id,i=n.case_name,t.forEach(function(e){r=e.id===a}),c={pocket_id:this.current_pocket_id,case_id:a,case_name:i},!r){e.next=10;break}return e.next=7,s["default"].insertCaseToPocket(c);case 7:this.current_choose_case_id_list.push(a),e.next=13;break;case 10:return e.next=12,s["default"].deleteCaseFromPocket(c);case 12:this.current_choose_case_id_list.splice(this.current_choose_case_id_list.indexOf(a),1);case 13:this.getPocketList();case 14:case"end":return e.stop()}},e,this)}));function t(t,n){return e.apply(this,arguments)}return t}(),deleteCase:function(){var e=b(o.a.mark(function e(t){var n;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.current_choose_case_id_list.splice(this.current_choose_case_id_list.indexOf(t.business_id),1),n={pocket_id:this.current_pocket_id,case_id:t.business_id},e.next=4,s["default"].deleteCaseFromPocket(n);case 4:return e.next=6,this.getPocketList();case 6:return e.next=8,this.refreshTableInfo();case 8:case"end":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),handleSizeChange:function(e){this.search.count=e,this.refreshTableInfo()},handleCurrentChange:function(e){this.search.page=e,this.refreshTableInfo()},doExecute:function(){var e=b(o.a.mark(function e(){var t;return o.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.execute_button_loading=!0,e.next=3,u["default"].execute(this.collection_id);case 3:return t=e.sent,e.next=6,new Promise(function(e){setTimeout(function(){return e("down")},1e3)});case 6:this.execute_button_loading=!1,this.$router.push("/autotest/report-detail/".concat(t));case 8:case"end":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),drawerClose:function(){this.drawer_visible=!1,this.searchCaseList()}}},w=k,m=(n("2631"),n("2877")),g=Object(m["a"])(w,r,a,!1,null,"39c51e6e",null);t["default"]=g.exports},bc5a:function(e,t,n){"use strict";n.r(t);var r=n("a34a"),a=n.n(r),i=n("ceda");function o(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(l){return void n(l)}c.done?t(s):Promise.resolve(s).then(r,a)}function c(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var i=e.apply(t,n);function c(e){o(i,r,a,c,s,"next",e)}function s(e){o(i,r,a,c,s,"throw",e)}c(void 0)})}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}var p=function(){function e(){s(this,e)}return u(e,[{key:"searchCollectionList",value:function(){var e=c(a.a.mark(function e(t){var n;return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["post"])("/autotest/collection/list",t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getCollectionDetail",value:function(){var e=c(a.a.mark(function e(t){var n;return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["get"])("/autotest/collection/".concat(t));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"createCollection",value:function(){var e=c(a.a.mark(function e(t){var n;return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["post"])("/autotest/collection/create",t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"updateCollection",value:function(){var e=c(a.a.mark(function e(t){var n;return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["post"])("/autotest/collection/update",t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"deleteCollection",value:function(){var e=c(a.a.mark(function e(t){var n;return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["_delete"])("/autotest/collection/".concat(t));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getPocketInfo",value:function(){var e=c(a.a.mark(function e(t){var n;return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n=Object(i["get"])("/autotest/collection/pocket/".concat(t)),e.abrupt("return",n);case 2:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"createPocket",value:function(){var e=c(a.a.mark(function e(t){var n;return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["post"])("/autotest/collection/pocket/create",t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"updatePocket",value:function(){var e=c(a.a.mark(function e(t){var n;return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["post"])("/autotest/collection/pocket/update",t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"deletePocket",value:function(){var e=c(a.a.mark(function e(t){var n;return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["_delete"])("/autotest/collection/pocket/".concat(t));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"insertCaseToPocket",value:function(){var e=c(a.a.mark(function e(t){var n;return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["post"])("/autotest/collection/case/create",t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"batchInsertCase",value:function(){var e=c(a.a.mark(function e(t){var n;return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["post"])("/autotest/collection/case/batchCreate",t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"deleteCaseFromPocket",value:function(){var e=c(a.a.mark(function e(t){var n;return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["post"])("/autotest/collection/case/delete",t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"batchDeleteCase",value:function(){var e=c(a.a.mark(function e(t){var n;return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["post"])("/autotest/collection/case/batchDelete",t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"nodePosition",value:function(){var e=c(a.a.mark(function e(t){var n;return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["post"])("/autotest/collection/position",t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()}]),e}();t["default"]=new p},eff8:function(e,t,n){"use strict";n.r(t);var r=n("a34a"),a=n.n(r),i=n("ceda");function o(e,t,n,r,a,i,o){try{var c=e[i](o),s=c.value}catch(l){return void n(l)}c.done?t(s):Promise.resolve(s).then(r,a)}function c(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var i=e.apply(t,n);function c(e){o(i,r,a,c,s,"next",e)}function s(e){o(i,r,a,c,s,"throw",e)}c(void 0)})}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}var p=function(){function e(){s(this,e)}return u(e,[{key:"searchReportList",value:function(){var e=c(a.a.mark(function e(t){var n;return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["post"])("/autotest/collection/report/list",t);case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"getReportDetail",value:function(){var e=c(a.a.mark(function e(t){var n;return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["get"])("/autotest/collection/report/".concat(t));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()},{key:"execute",value:function(){var e=c(a.a.mark(function e(t){var n;return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(i["post"])("/autotest/collection/execute/".concat(t));case 2:return n=e.sent,e.abrupt("return",n);case 4:case"end":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()}]),e}();t["default"]=new p}}]);