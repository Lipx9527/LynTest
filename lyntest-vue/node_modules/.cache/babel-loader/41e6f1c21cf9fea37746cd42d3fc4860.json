{"remainingRequest":"/Users/lyn/Desktop/mmdz_ceshi/lyntest-vue/node_modules/thread-loader/dist/cjs.js!/Users/lyn/Desktop/mmdz_ceshi/lyntest-vue/node_modules/babel-loader/lib/index.js!/Users/lyn/Desktop/mmdz_ceshi/lyntest-vue/node_modules/eslint-loader/index.js??ref--13-0!/Users/lyn/Desktop/mmdz_ceshi/lyntest-vue/src/lin/plugin/preview/index.js","dependencies":[{"path":"/Users/lyn/Desktop/mmdz_ceshi/lyntest-vue/src/lin/plugin/preview/index.js","mtime":1606834545471},{"path":"/Users/lyn/Desktop/mmdz_ceshi/lyntest-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lyn/Desktop/mmdz_ceshi/lyntest-vue/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lyn/Desktop/mmdz_ceshi/lyntest-vue/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lyn/Desktop/mmdz_ceshi/lyntest-vue/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import Vue from 'vue';\nimport Preview from '@/component/base/preview/preview';\nvar previewImage = {};\n\npreviewImage.install = function (vue) {\n  // eslint-disable-line\n  var PreviewConstructor = vue.extend(Preview);\n  var instance = null; // eslint-disable-next-line func-names\n\n  PreviewConstructor.prototype.close = function () {\n    this.data = [];\n    this.options = {};\n    this.imageIndex = 0;\n  };\n\n  var getInstance = function getInstance() {\n    if (!instance) {\n      instance = new PreviewConstructor();\n    }\n\n    return instance;\n  };\n\n  vue.prototype.$imagePreview = function () {\n    var opts = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n    // eslint-disable-line\n    var elem = document.createElement('div');\n\n    if (!instance) {\n      var myInstance = getInstance();\n      vue.prototype.$previewInstance = myInstance; // eslint-disable-line\n\n      myInstance.$mount(elem);\n      myInstance.data = opts.images || [];\n      myInstance.imageIndex = opts.index || 0;\n      myInstance.options = opts.defaultOpt || {};\n      document.body.appendChild(myInstance.$el);\n      myInstance.$on('close', function () {\n        myInstance.close();\n        document.body.removeChild(myInstance.$el);\n        myInstance.$destroy();\n        myInstance = null;\n        instance = null;\n      });\n    }\n  };\n};\n\nVue.use(previewImage);\nexport default previewImage;",null]}