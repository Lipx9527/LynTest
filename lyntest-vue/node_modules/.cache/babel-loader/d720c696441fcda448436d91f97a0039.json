{"remainingRequest":"/Users/lyn/Desktop/lyntest/lyntest-vue/node_modules/babel-loader/lib/index.js!/Users/lyn/Desktop/lyntest/lyntest-vue/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/lyn/Desktop/lyntest/lyntest-vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lyn/Desktop/lyntest/lyntest-vue/src/component/layout/side-bar.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lyn/Desktop/lyntest/lyntest-vue/src/component/layout/side-bar.vue","mtime":1606834545497},{"path":"/Users/lyn/Desktop/lyntest/lyntest-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lyn/Desktop/lyntest/lyntest-vue/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lyn/Desktop/lyntest/lyntest-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lyn/Desktop/lyntest/lyntest-vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["function ownKeys(object, enumerableOnly) { var keys = Object.keys(object); if (Object.getOwnPropertySymbols) { var symbols = Object.getOwnPropertySymbols(object); if (enumerableOnly) symbols = symbols.filter(function (sym) { return Object.getOwnPropertyDescriptor(object, sym).enumerable; }); keys.push.apply(keys, symbols); } return keys; }\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; if (i % 2) { ownKeys(source, true).forEach(function (key) { _defineProperty(target, key, source[key]); }); } else if (Object.getOwnPropertyDescriptors) { Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)); } else { ownKeys(source).forEach(function (key) { Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key)); }); } } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { mapGetters } from 'vuex';\nimport Utils from '@/lin/util/util';\nimport Config from '../../config/index';\nexport default {\n  data: function data() {\n    return {\n      sidebar: '',\n      groups: [],\n      showSidebarSearch: Config.showSidebarSearch,\n      showSearchList: false\n    };\n  },\n  inject: ['eventBus'],\n  props: {\n    isPhone: {\n      type: Boolean,\n      default: false\n    },\n    isCollapse: {\n      type: Boolean,\n      default: false\n    }\n  },\n  mounted: function mounted() {\n    var _this = this;\n\n    this.eventBus.$on('removeSidebarSearch', function () {\n      _this.showSidebarSearch = false;\n    });\n    this.eventBus.$on('showSidebarSearch', function () {\n      if (Config.showSidebarSearch) {\n        _this.showSidebarSearch = true;\n      }\n    });\n  },\n  methods: {\n    filterIcon: function filterIcon(icon) {\n      return icon.indexOf('/') !== -1;\n    },\n    handleChange: function handleChange(val) {\n      this.groups = [];\n      this.sidebar = '';\n      this.showSearchList = false;\n      this.$router.push(val);\n    },\n    toSearch: function toSearch() {\n      var _this2 = this;\n\n      this.showSearchList = true;\n      setTimeout(function () {\n        _this2.$refs.searchInput.focus();\n      }, 200);\n    },\n    search: function search(val) {\n      var _this3 = this;\n\n      this.groups = []; // 深度遍历配置树, 摘取叶子节点作为路由部分\n\n      function deepTravel(config, fuc) {\n        if (Array.isArray(config)) {\n          config.forEach(function (subConfig) {\n            deepTravel(subConfig, fuc);\n          });\n        } else if (config.children) {\n          config.children.forEach(function (subConfig) {\n            deepTravel(subConfig, fuc);\n          });\n        } else {\n          fuc(config);\n        }\n      }\n\n      deepTravel(this.sideBarList, function (viewConfig) {\n        // 构造舞台view路由\n        if (viewConfig.title.includes(val)) {\n          var viewRouter = {};\n          viewRouter.path = viewConfig.path;\n          viewRouter.title = viewConfig.title;\n          viewRouter.key = Math.random();\n\n          _this3.groups.push(viewRouter);\n        }\n      });\n    }\n  },\n  computed: _objectSpread({\n    elMenuCollapse: function elMenuCollapse() {\n      if (this.isPhone) {\n        return false;\n      }\n\n      return this.isCollapse;\n    },\n    // 根据当前路由设置激活侧边栏\n    defaultActive: function defaultActive() {\n      for (var i = this.stageInfo.length - 1; i >= 0; i -= 1) {\n        if (this.idMap[this.stageInfo[i].name]) {\n          return this.idMap[this.stageInfo[i].name];\n        }\n      }\n\n      return '';\n    },\n    stageInfo: function stageInfo() {\n      return this.$store.getters.getStageInfo(this.$route.name);\n    },\n    // 由于index不支持symbol格式, 因此使用 idMap 进行映射\n    idMap: function idMap() {\n      var sideBarList = this.sideBarList;\n      var mapData = {};\n\n      var deepTravel = function deepTravel(obj, fuc) {\n        if (Array.isArray(obj)) {\n          obj.forEach(function (item) {\n            deepTravel(item, fuc);\n          });\n          return;\n        }\n\n        if (obj && obj.children) {\n          fuc(obj);\n          deepTravel(obj.children, fuc);\n          return;\n        }\n\n        if (obj.name) {\n          fuc(obj);\n        }\n      };\n\n      deepTravel(sideBarList, function (item) {\n        mapData[item.name] = Utils.getRandomStr();\n      });\n      return mapData;\n    },\n    imgSrc: function imgSrc() {\n      return this.elMenuCollapse === false ? '../../assets/image/left-logo.png' : '../../assets/image/logo.png';\n    }\n  }, mapGetters(['sideBarList']))\n};",{"version":3,"sources":["side-bar.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div class=\"app-sidebar\">\n    <!--<div class=\"logo\" v-if=\"!elMenuCollapse\"><img src=\"../../assets/image/logo.png\" alt=\"\" /></div>-->\n    <!--<div class=\"mobile-logo\" v-else><img src=\"../../assets/image/mobile-logo.png\" alt=\"\" /></div>-->\n    <div style=\"margin-bottom:50px\">\n      <div v-if=\"showSidebarSearch\" style=\"margin-top: 15px\">\n        <div class=\"search-display\" v-if=\"!showSearchList\" @click=\"toSearch\"><i class=\"el-icon-search\"></i></div>\n        <el-select\n          v-if=\"showSearchList\"\n          size=\"medium\"\n          filterable\n          clearable\n          :filter-method=\"search\"\n          v-model=\"sidebar\"\n          @change=\"handleChange\"\n          class=\"search\"\n          placeholder=\"请输入关键字\"\n          ref=\"searchInput\"\n        >\n          <el-option v-for=\"item in groups\" :key=\"item.key\" :label=\"item.title\" :value=\"item.path\"> </el-option>\n        </el-select>\n      </div>\n      <el-menu\n        class=\"el-menu-vertical-demo\"\n        ref=\"meun\"\n        :default-active=\"defaultActive\"\n        :collapse=\"elMenuCollapse\"\n        background-color=\"#003C8D\"\n        text-color=\"rgba(196,201,210,1)\"\n        active-text-color=\"#1890ff\"\n      >\n        <template v-for=\"item in sideBarList\">\n          <el-submenu\n            class=\"subMenuContent\"\n            v-if=\"item.children\"\n            :key=\"idMap[item.name]\"\n            :index=\"idMap[item.name]\"\n            popper-class=\"abc\"\n          >\n            <template slot=\"title\">\n              <i v-if=\"!filterIcon(item.icon)\" :class=\"item.icon\"></i> <img v-else :src=\"item.icon\" class=\"imgIcon\" />\n              <span slot=\"title\">{{ item.title }}</span>\n            </template>\n\n            <!-- 二级菜单 -->\n            <template v-for=\"subItem in item.children\">\n              <el-submenu\n                v-if=\"subItem.children\"\n                :key=\"idMap[subItem.name]\"\n                :index=\"idMap[subItem.name]\"\n                class=\"subMenuContent\"\n              >\n                <template slot=\"title\">\n                  <i class=\"iconfont icon-dot\"></i>\n                  <span slot=\"title\" class=\"two-folder\">{{ subItem.title }}</span>\n                </template>\n\n                <!-- 三级菜单 -->\n                <router-link\n                  v-for=\"grandchildItem in subItem.children\"\n                  :key=\"idMap[grandchildItem.name]\"\n                  :to=\"grandchildItem.path\"\n                  class=\"circle third\"\n                >\n                  <el-menu-item :index=\"idMap[grandchildItem.name]\" style=\"padding-left: 80px;\" class=\"subMenuContent\">\n                    {{ grandchildItem.title }}\n                  </el-menu-item>\n                </router-link>\n              </el-submenu>\n              <!-- 二级else -->\n              <router-link :to=\"subItem.path\" :key=\"subItem.name\" class=\"circle\" v-else>\n                <el-menu-item :index=\"idMap[subItem.name]\" style=\"padding-left: 60px;\" class=\"subMenuContent\">\n                  {{ subItem.title }}\n                </el-menu-item>\n              </router-link>\n            </template>\n          </el-submenu>\n\n          <!-- 一级else -->\n          <router-link :to=\"item.path\" :key=\"item.name\" v-else>\n            <el-menu-item class=\"subMenuContent\" :index=\"idMap[item.name]\" :key=\"idMap[item.name]\">\n              <i v-if=\"!filterIcon(item.icon)\" :class=\"item.icon\"></i> <img v-else :src=\"item.icon\" class=\"imgIcon\" />\n              <span slot=\"title\">{{ item.title }}</span>\n            </el-menu-item>\n          </router-link>\n        </template>\n      </el-menu>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { mapGetters } from 'vuex'\nimport Utils from '@/lin/util/util'\nimport Config from '../../config/index'\n\nexport default {\n  data() {\n    return {\n      sidebar: '',\n      groups: [],\n      showSidebarSearch: Config.showSidebarSearch,\n      showSearchList: false,\n    }\n  },\n  inject: ['eventBus'],\n  props: {\n    isPhone: {\n      type: Boolean,\n      default: false,\n    },\n    isCollapse: {\n      type: Boolean,\n      default: false,\n    },\n  },\n  mounted() {\n    this.eventBus.$on('removeSidebarSearch', () => {\n      this.showSidebarSearch = false\n    })\n    this.eventBus.$on('showSidebarSearch', () => {\n      if (Config.showSidebarSearch) {\n        this.showSidebarSearch = true\n      }\n    })\n  },\n  methods: {\n    filterIcon(icon) {\n      return icon.indexOf('/') !== -1\n    },\n    handleChange(val) {\n      this.groups = []\n      this.sidebar = ''\n      this.showSearchList = false\n      this.$router.push(val)\n    },\n    toSearch() {\n      this.showSearchList = true\n      setTimeout(() => {\n        this.$refs.searchInput.focus()\n      }, 200)\n    },\n    search(val) {\n      this.groups = []\n\n      // 深度遍历配置树, 摘取叶子节点作为路由部分\n      function deepTravel(config, fuc) {\n        if (Array.isArray(config)) {\n          config.forEach(subConfig => {\n            deepTravel(subConfig, fuc)\n          })\n        } else if (config.children) {\n          config.children.forEach(subConfig => {\n            deepTravel(subConfig, fuc)\n          })\n        } else {\n          fuc(config)\n        }\n      }\n\n      deepTravel(this.sideBarList, viewConfig => {\n        // 构造舞台view路由\n        if (viewConfig.title.includes(val)) {\n          const viewRouter = {}\n          viewRouter.path = viewConfig.path\n          viewRouter.title = viewConfig.title\n          viewRouter.key = Math.random()\n          this.groups.push(viewRouter)\n        }\n      })\n    },\n  },\n  computed: {\n    elMenuCollapse() {\n      if (this.isPhone) {\n        return false\n      }\n\n      return this.isCollapse\n    },\n    // 根据当前路由设置激活侧边栏\n    defaultActive() {\n      for (let i = this.stageInfo.length - 1; i >= 0; i -= 1) {\n        if (this.idMap[this.stageInfo[i].name]) {\n          return this.idMap[this.stageInfo[i].name]\n        }\n      }\n      return ''\n    },\n    stageInfo() {\n      return this.$store.getters.getStageInfo(this.$route.name)\n    },\n    // 由于index不支持symbol格式, 因此使用 idMap 进行映射\n    idMap() {\n      const { sideBarList } = this\n      const mapData = {}\n      const deepTravel = (obj, fuc) => {\n        if (Array.isArray(obj)) {\n          obj.forEach(item => {\n            deepTravel(item, fuc)\n          })\n          return\n        }\n        if (obj && obj.children) {\n          fuc(obj)\n          deepTravel(obj.children, fuc)\n          return\n        }\n        if (obj.name) {\n          fuc(obj)\n        }\n      }\n      deepTravel(sideBarList, item => {\n        mapData[item.name] = Utils.getRandomStr()\n      })\n\n      return mapData\n    },\n    imgSrc() {\n      return this.elMenuCollapse === false ? '../../assets/image/left-logo.png' : '../../assets/image/logo.png'\n    },\n    ...mapGetters(['sideBarList']),\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n::-webkit-scrollbar {\n  width: 0px;\n  height: 0px;\n}\n\n.app-sidebar {\n  /*menu的背景色*/\n  background: #003C8D;\n\n  &::-webkit-scrollbar {\n    width: 0px;\n    height: 0px;\n  }\n\n  .subMenuContent {\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  }\n\n  .logo {\n    width: $sidebar-width;\n    height: $header-height;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    font-size: 30px;\n    color: #fff;\n    transition: all 0.5s ease-in-out;\n    background-color: #122150;\n    transition: all 0.3s linear;\n    position: sticky;\n    top: 0;\n    left: 0;\n    z-index: 99;\n    img {\n      width: 120px;\n      transition: all 0.3s linear;\n    }\n  }\n\n  .mobile-logo {\n    width: 64px;\n    height: 86px;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    background-color: #122150;\n    transition: all 0.3s linear;\n\n    img {\n      width: 40px;\n      height: 40px;\n      transition: all 0.3s linear;\n    }\n  }\n\n  .imgIcon {\n    width: 16px;\n    height: 16px;\n    margin-right: 10px;\n    margin-left: 5px;\n    display: inline-block;\n    transform: translateY(21px);\n  }\n\n  .iconfont {\n    margin-right: 10px;\n    margin-left: 5px;\n    color: $submenu-title;\n    height: $menuItem-height;\n  }\n\n  .search-display {\n    position: relative;\n    width: 80%;\n    margin: 0 auto;\n    height: 36px;\n    border-bottom: 1px rgb(185, 190, 195) solid;\n    cursor: pointer;\n\n    .el-icon-search {\n      position: absolute;\n      left: 1px;\n      top: 10px;\n      color: rgb(185, 190, 195);\n    }\n  }\n\n  .search {\n    // margin-top: 20px;\n    width: 80%;\n  }\n}\n</style>\n"],"sourceRoot":"src/component/layout"}]}