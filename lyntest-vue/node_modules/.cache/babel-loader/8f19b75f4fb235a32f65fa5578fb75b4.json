{"remainingRequest":"/Users/lyn/Desktop/mmdz_ceshi/lyntest-vue/node_modules/babel-loader/lib/index.js!/Users/lyn/Desktop/mmdz_ceshi/lyntest-vue/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/lyn/Desktop/mmdz_ceshi/lyntest-vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lyn/Desktop/mmdz_ceshi/lyntest-vue/src/view/home/home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lyn/Desktop/mmdz_ceshi/lyntest-vue/src/view/home/home.vue","mtime":1606834545531},{"path":"/Users/lyn/Desktop/mmdz_ceshi/lyntest-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lyn/Desktop/mmdz_ceshi/lyntest-vue/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lyn/Desktop/mmdz_ceshi/lyntest-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lyn/Desktop/mmdz_ceshi/lyntest-vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { NavBar, SideBar, AppMain, ReuseTab, MenuTab, BackTop } from '@/component/layout';\nvar navBarHeight = 66; // header高度\n\nvar reuseTabHeight = 70; // 历史记录栏高度\n\nvar marginHeight = 20; // 历史记录栏与舞台的间距\n\nvar sideBarWidth = '210px';\nvar totalHeight = navBarHeight + reuseTabHeight + marginHeight;\nexport default {\n  name: 'layout',\n  data: function data() {\n    return {\n      isCollapse: false,\n      // 左侧菜单栏是否折叠\n      sideBarWidth: sideBarWidth,\n      // 左侧菜单栏展开的宽度\n      clientWidth: 0,\n      // 页面宽度\n      clientHeight: 0,\n      // 页面高度\n      foldState: false,\n      // 控制左侧菜单栏按键\n      isPhone: false\n    };\n  },\n  created: function created() {},\n  mounted: function mounted() {\n    var _this = this;\n\n    this.setResize(); // console.log(this.clientWidth)\n\n    if (this.clientWidth < 500) {\n      this.isPhone = true;\n    } else {\n      this.isPhone = false; // 检测屏幕宽度, 确定默认是否展开\n\n      if (this.clientWidth <= 768) {\n        this.eventBus.$emit('removeSidebarSearch');\n        this.isCollapse = true;\n      } else {\n        this.isCollapse = false;\n        this.eventBus.$emit('showSidebarSearch');\n      }\n    } // 监测屏幕宽度 折叠左侧菜单栏\n\n\n    window.onresize = function () {\n      _this.setResize();\n\n      if (_this.clientWidth <= 500) {\n        _this.isPhone = true;\n      } else if (_this.clientWidth <= 800) {\n        _this.isPhone = false;\n      }\n    };\n\n    this.eventBus.$on('noReuse', function () {\n      _this.$refs.operate.style.height = '86px';\n    });\n    this.eventBus.$on('hasReuse', function () {\n      _this.$refs.operate.style.height = '45px';\n    });\n  },\n  inject: ['eventBus'],\n  computed: {\n    elMenuCollapse: function elMenuCollapse() {\n      if (this.isPhone) {\n        return false;\n      }\n\n      return this.isCollapse;\n    },\n    asideStyle: function asideStyle() {\n      var style = {};\n\n      if (this.isPhone) {\n        style.position = 'absolute';\n        style.height = \"\".concat(this.clientHeight, \"px\");\n        style.zIndex = 12;\n\n        if (this.isCollapse === false) {\n          style.transform = \"translateX(-\".concat(sideBarWidth, \")\");\n        } else {\n          style.transform = 'translateX(0)';\n        }\n      }\n\n      return style;\n    }\n  },\n  methods: {\n    // 控制菜单折叠\n    changeSlidebarState: function changeSlidebarState() {\n      this.isCollapse = !this.isCollapse;\n\n      if (this.isCollapse) {\n        this.eventBus.$emit('removeSidebarSearch');\n      } else {\n        this.eventBus.$emit('showSidebarSearch');\n      }\n\n      this.foldState = !this.foldState;\n    },\n    // 响应页面的宽度高度变化\n    setResize: function setResize() {\n      this.clientHeight = document.body.clientHeight;\n      this.clientWidth = document.body.clientWidth;\n      this.$refs.appMain.$el.style.minHeight = \"\".concat(this.clientHeight - totalHeight + 20, \"px\");\n    }\n  },\n  watch: {\n    isCollapse: function isCollapse() {\n      if (this.isPhone) {\n        // 手机模式\n        this.sideBarWidth = sideBarWidth;\n\n        if (this.isCollapse === false) {\n          this.transX = 0;\n        } else {\n          this.transX = -1 * sideBarWidth;\n        }\n      } else {\n        this.transX = 0;\n        this.sideBarWidth = this.isCollapse === false ? sideBarWidth : '64px';\n      }\n    },\n    $route: function $route() {\n      this.showBackTop = false;\n\n      if (this.scrollY <= 70) {\n        // MenuTab组件高度\n        this.backTop();\n      }\n\n      if (this.isPhone && this.isCollapse) {\n        this.changeSlidebarState();\n      }\n    }\n  },\n  components: {\n    NavBar: NavBar,\n    SideBar: SideBar,\n    AppMain: AppMain,\n    ReuseTab: ReuseTab,\n    MenuTab: MenuTab,\n    BackTop: BackTop\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.eventBus.$off('noReuse');\n    this.eventBus.$off('hasReuse');\n  }\n};",{"version":3,"sources":["home.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\n  <div style=\"height:100%;\">\n    <el-container>\n      <el-aside :width=\"sideBarWidth\" class=\"aside\" :style=\"asideStyle\">\n        <side-bar :isCollapse=\"isCollapse\" :is-phone=\"isPhone\"></side-bar>\n      </el-aside>\n      <el-container>\n        <el-header class=\"header\">\n          <div class=\"left\">\n            <div class=\"operate\" ref=\"operate\">\n              <i class=\"iconfont icon-fold\" :class=\"{ rotate: foldState }\" @click=\"changeSlidebarState\" />\n              <nav-bar></nav-bar>\n            </div>\n            <el-collapse-transition> <reuse-tab ref=\"reuse\"></reuse-tab> </el-collapse-transition>\n          </div>\n        </el-header>\n        <el-main ref=\"main\">\n          <menu-tab></menu-tab>\n          <app-main ref=\"appMain\"></app-main>\n        </el-main>\n        <back-top :right=\"50\" :bottom=\"50\" :fontSize=\"34\"></back-top>\n      </el-container>\n      <div class=\"sidenav-mask\" :class=\"{ show: isPhone && isCollapse }\" @click=\"changeSlidebarState\"></div>\n    </el-container>\n  </div>\n</template>\n\n<script>\nimport { NavBar, SideBar, AppMain, ReuseTab, MenuTab, BackTop } from '@/component/layout'\n\nconst navBarHeight = 66 // header高度\nconst reuseTabHeight = 70 // 历史记录栏高度\nconst marginHeight = 20 // 历史记录栏与舞台的间距\nconst sideBarWidth = '210px'\nconst totalHeight = navBarHeight + reuseTabHeight + marginHeight\n\nexport default {\n  name: 'layout',\n  data() {\n    return {\n      isCollapse: false, // 左侧菜单栏是否折叠\n      sideBarWidth, // 左侧菜单栏展开的宽度\n      clientWidth: 0, // 页面宽度\n      clientHeight: 0, // 页面高度\n      foldState: false, // 控制左侧菜单栏按键\n      isPhone: false,\n    }\n  },\n  created() {},\n  mounted() {\n    this.setResize()\n    // console.log(this.clientWidth)\n    if (this.clientWidth < 500) {\n      this.isPhone = true\n    } else {\n      this.isPhone = false\n      // 检测屏幕宽度, 确定默认是否展开\n      if (this.clientWidth <= 768) {\n        this.eventBus.$emit('removeSidebarSearch')\n        this.isCollapse = true\n      } else {\n        this.isCollapse = false\n        this.eventBus.$emit('showSidebarSearch')\n      }\n    }\n    // 监测屏幕宽度 折叠左侧菜单栏\n    window.onresize = () => {\n      this.setResize()\n      if (this.clientWidth <= 500) {\n        this.isPhone = true\n      } else if (this.clientWidth <= 800) {\n        this.isPhone = false\n      }\n    }\n\n    this.eventBus.$on('noReuse', () => {\n      this.$refs.operate.style.height = '86px'\n    })\n    this.eventBus.$on('hasReuse', () => {\n      this.$refs.operate.style.height = '45px'\n    })\n  },\n  inject: ['eventBus'],\n  computed: {\n    elMenuCollapse() {\n      if (this.isPhone) {\n        return false\n      }\n\n      return this.isCollapse\n    },\n    asideStyle() {\n      const style = {}\n      if (this.isPhone) {\n        style.position = 'absolute'\n        style.height = `${this.clientHeight}px`\n        style.zIndex = 12\n        if (this.isCollapse === false) {\n          style.transform = `translateX(-${sideBarWidth})`\n        } else {\n          style.transform = 'translateX(0)'\n        }\n      }\n      return style\n    },\n  },\n  methods: {\n    // 控制菜单折叠\n    changeSlidebarState() {\n      this.isCollapse = !this.isCollapse\n      if (this.isCollapse) {\n        this.eventBus.$emit('removeSidebarSearch')\n      } else {\n        this.eventBus.$emit('showSidebarSearch')\n      }\n      this.foldState = !this.foldState\n    },\n    // 响应页面的宽度高度变化\n    setResize() {\n      this.clientHeight = document.body.clientHeight\n      this.clientWidth = document.body.clientWidth\n      this.$refs.appMain.$el.style.minHeight = `${this.clientHeight - totalHeight + 20}px`\n    },\n  },\n  watch: {\n    isCollapse() {\n      if (this.isPhone) {\n        // 手机模式\n        this.sideBarWidth = sideBarWidth\n        if (this.isCollapse === false) {\n          this.transX = 0\n        } else {\n          this.transX = -1 * sideBarWidth\n        }\n      } else {\n        this.transX = 0\n        this.sideBarWidth = this.isCollapse === false ? sideBarWidth : '64px'\n      }\n    },\n    $route() {\n      this.showBackTop = false\n      if (this.scrollY <= 70) {\n        // MenuTab组件高度\n        this.backTop()\n      }\n      if (this.isPhone && this.isCollapse) {\n        this.changeSlidebarState()\n      }\n    },\n  },\n  components: {\n    NavBar,\n    SideBar,\n    AppMain,\n    ReuseTab,\n    MenuTab,\n    BackTop,\n  },\n  beforeDestroy() {\n    this.eventBus.$off('noReuse')\n    this.eventBus.$off('hasReuse')\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.aside {\n  /*侧边栏背景色*/\n  background: #003C8D;\n  overflow-x: hidden;\n\n  &::-webkit-scrollbar {\n    width: 0px;\n    height: 0px;\n  }\n}\n\n.header {\n  padding: 0;\n  background: $header-background;\n  height: $header-height !important;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  box-shadow: 0px 2px 6px 0px rgba(190, 204, 216, 0.4);\n  border-bottom: 1px solid rgba(190, 204, 216, 0.4);\n\n  .left {\n    height: 100%;\n    width: 100%;\n\n    .operate {\n      display: flex;\n      align-items: center;\n      background: $header-background;\n      padding-left: 20px;\n      height: 86px;\n\n      .iconfont {\n        font-size: 16px;\n        font-weight: 500;\n        color: $right-side-font-color;\n        cursor: pointer;\n        transform: rotate(0deg);\n        transition: all 0.3s linear;\n        margin-right: 10px;\n\n        &:hover {\n          color: #3963bc;\n        }\n      }\n\n      .rotate {\n        transform: rotate(180deg);\n        transition: all 0.3s linear;\n      }\n    }\n  }\n\n  .right-info {\n    display: flex;\n    align-items: center;\n  }\n}\n\n.el-main {\n  overflow-y: auto;\n  position: relative;\n  padding: 0;\n}\n\n.backTop {\n  position: fixed;\n  display: inline-block;\n  text-align: center;\n  cursor: pointer;\n  right: 50px;\n  bottom: 50px;\n  width: 22px;\n  height: 22px;\n  line-height: 22px;\n  border-radius: 50%;\n  z-index: 99;\n  background: #fff;\n\n  .iconfont {\n    font-size: 36px;\n  }\n}\n\n.sidenav-mask {\n  position: absolute;\n  top: 0;\n  left: 0;\n  width: 100%;\n  height: 100%;\n  background-color: rgba(0, 0, 0, 0.3);\n  z-index: 10;\n  display: none;\n  cursor: pointer;\n\n  &.show {\n    display: block;\n  }\n}\n</style>\n"],"sourceRoot":"src/view/home"}]}