{"remainingRequest":"/Users/lyn/Desktop/mmdz_ceshi/lyntest-vue/node_modules/thread-loader/dist/cjs.js!/Users/lyn/Desktop/mmdz_ceshi/lyntest-vue/node_modules/babel-loader/lib/index.js!/Users/lyn/Desktop/mmdz_ceshi/lyntest-vue/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/lyn/Desktop/mmdz_ceshi/lyntest-vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lyn/Desktop/mmdz_ceshi/lyntest-vue/src/view/home/home.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lyn/Desktop/mmdz_ceshi/lyntest-vue/src/view/home/home.vue","mtime":1606834545531},{"path":"/Users/lyn/Desktop/mmdz_ceshi/lyntest-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lyn/Desktop/mmdz_ceshi/lyntest-vue/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lyn/Desktop/mmdz_ceshi/lyntest-vue/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lyn/Desktop/mmdz_ceshi/lyntest-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lyn/Desktop/mmdz_ceshi/lyntest-vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport { NavBar, SideBar, AppMain, ReuseTab, MenuTab, BackTop } from '@/component/layout';\nvar navBarHeight = 66; // header高度\n\nvar reuseTabHeight = 70; // 历史记录栏高度\n\nvar marginHeight = 20; // 历史记录栏与舞台的间距\n\nvar sideBarWidth = '210px';\nvar totalHeight = navBarHeight + reuseTabHeight + marginHeight;\nexport default {\n  name: 'layout',\n  data: function data() {\n    return {\n      isCollapse: false,\n      // 左侧菜单栏是否折叠\n      sideBarWidth: sideBarWidth,\n      // 左侧菜单栏展开的宽度\n      clientWidth: 0,\n      // 页面宽度\n      clientHeight: 0,\n      // 页面高度\n      foldState: false,\n      // 控制左侧菜单栏按键\n      isPhone: false\n    };\n  },\n  created: function created() {},\n  mounted: function mounted() {\n    var _this = this;\n\n    this.setResize(); // console.log(this.clientWidth)\n\n    if (this.clientWidth < 500) {\n      this.isPhone = true;\n    } else {\n      this.isPhone = false; // 检测屏幕宽度, 确定默认是否展开\n\n      if (this.clientWidth <= 768) {\n        this.eventBus.$emit('removeSidebarSearch');\n        this.isCollapse = true;\n      } else {\n        this.isCollapse = false;\n        this.eventBus.$emit('showSidebarSearch');\n      }\n    } // 监测屏幕宽度 折叠左侧菜单栏\n\n\n    window.onresize = function () {\n      _this.setResize();\n\n      if (_this.clientWidth <= 500) {\n        _this.isPhone = true;\n      } else if (_this.clientWidth <= 800) {\n        _this.isPhone = false;\n      }\n    };\n\n    this.eventBus.$on('noReuse', function () {\n      _this.$refs.operate.style.height = '86px';\n    });\n    this.eventBus.$on('hasReuse', function () {\n      _this.$refs.operate.style.height = '45px';\n    });\n  },\n  inject: ['eventBus'],\n  computed: {\n    elMenuCollapse: function elMenuCollapse() {\n      if (this.isPhone) {\n        return false;\n      }\n\n      return this.isCollapse;\n    },\n    asideStyle: function asideStyle() {\n      var style = {};\n\n      if (this.isPhone) {\n        style.position = 'absolute';\n        style.height = \"\".concat(this.clientHeight, \"px\");\n        style.zIndex = 12;\n\n        if (this.isCollapse === false) {\n          style.transform = \"translateX(-\".concat(sideBarWidth, \")\");\n        } else {\n          style.transform = 'translateX(0)';\n        }\n      }\n\n      return style;\n    }\n  },\n  methods: {\n    // 控制菜单折叠\n    changeSlidebarState: function changeSlidebarState() {\n      this.isCollapse = !this.isCollapse;\n\n      if (this.isCollapse) {\n        this.eventBus.$emit('removeSidebarSearch');\n      } else {\n        this.eventBus.$emit('showSidebarSearch');\n      }\n\n      this.foldState = !this.foldState;\n    },\n    // 响应页面的宽度高度变化\n    setResize: function setResize() {\n      this.clientHeight = document.body.clientHeight;\n      this.clientWidth = document.body.clientWidth;\n      this.$refs.appMain.$el.style.minHeight = \"\".concat(this.clientHeight - totalHeight + 20, \"px\");\n    }\n  },\n  watch: {\n    isCollapse: function isCollapse() {\n      if (this.isPhone) {\n        // 手机模式\n        this.sideBarWidth = sideBarWidth;\n\n        if (this.isCollapse === false) {\n          this.transX = 0;\n        } else {\n          this.transX = -1 * sideBarWidth;\n        }\n      } else {\n        this.transX = 0;\n        this.sideBarWidth = this.isCollapse === false ? sideBarWidth : '64px';\n      }\n    },\n    $route: function $route() {\n      this.showBackTop = false;\n\n      if (this.scrollY <= 70) {\n        // MenuTab组件高度\n        this.backTop();\n      }\n\n      if (this.isPhone && this.isCollapse) {\n        this.changeSlidebarState();\n      }\n    }\n  },\n  components: {\n    NavBar: NavBar,\n    SideBar: SideBar,\n    AppMain: AppMain,\n    ReuseTab: ReuseTab,\n    MenuTab: MenuTab,\n    BackTop: BackTop\n  },\n  beforeDestroy: function beforeDestroy() {\n    this.eventBus.$off('noReuse');\n    this.eventBus.$off('hasReuse');\n  }\n};",null]}