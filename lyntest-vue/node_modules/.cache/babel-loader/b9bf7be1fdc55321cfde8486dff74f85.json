{"remainingRequest":"/Users/lyn/Desktop/mmdz_ceshi/lyntest-vue/node_modules/thread-loader/dist/cjs.js!/Users/lyn/Desktop/mmdz_ceshi/lyntest-vue/node_modules/babel-loader/lib/index.js!/Users/lyn/Desktop/mmdz_ceshi/lyntest-vue/node_modules/eslint-loader/index.js??ref--13-0!/Users/lyn/Desktop/mmdz_ceshi/lyntest-vue/src/router/index.js","dependencies":[{"path":"/Users/lyn/Desktop/mmdz_ceshi/lyntest-vue/src/router/index.js","mtime":1606834545599},{"path":"/Users/lyn/Desktop/mmdz_ceshi/lyntest-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lyn/Desktop/mmdz_ceshi/lyntest-vue/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lyn/Desktop/mmdz_ceshi/lyntest-vue/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lyn/Desktop/mmdz_ceshi/lyntest-vue/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["function _typeof(obj) { if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") { _typeof = function _typeof(obj) { return typeof obj; }; } else { _typeof = function _typeof(obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }; } return _typeof(obj); }\n\nimport Vue from 'vue';\nimport Router from 'vue-router';\nimport routes from './route';\nimport store from '../store';\nimport appConfig from '@/config/index';\nimport Util from '@/lin/util/util';\nVue.use(Router); // 判断是否需要登录访问, 配置位于 config 文件夹\n\nvar _isLoginRequired = function isLoginRequired(routeName) {\n  // 首次执行时缓存配置\n  var notLoginRoute = appConfig.notLoginRoute;\n  var notLoginMark = {}; // 构建标记对象\n\n  if (Array.isArray(notLoginRoute)) {\n    for (var i = 0; i < notLoginRoute.length; i += 1) {\n      notLoginMark[notLoginRoute[i].toString()] = true;\n    }\n  }\n\n  notLoginRoute = null; // 释放内存\n  // 重写初始化函数\n\n  _isLoginRequired = function isLoginRequired(name) {\n    if (!name) {\n      return true;\n    } // 处理 Symbol 类型\n\n\n    var target = _typeof(name) === 'symbol' ? name.description : name;\n    return !notLoginMark[target];\n  };\n\n  return _isLoginRequired(routeName);\n};\n\nvar router = new Router({\n  // mode: 'history',\n  scrollBehavior: function scrollBehavior() {\n    return {\n      y: 0\n    };\n  },\n  base: process.env.BASE_URL,\n  routes: routes\n});\nrouter.beforeEach(function (to, from, next) {\n  // 登录验证\n  if (_isLoginRequired(to.name) && !store.state.logined) {\n    next({\n      path: '/login'\n    });\n    return;\n  } // TODO: tab 模式重复点击验证\n  // 权限验证\n\n\n  if (store && store.state && store.getters) {\n    var _store$getters = store.getters,\n        permissions = _store$getters.permissions,\n        user = _store$getters.user;\n\n    if (to.path !== '/center' && !Util.hasPermission(permissions, to.meta, user)) {\n      Vue.prototype.$notify({\n        title: '无权限',\n        dangerouslyUseHTMLString: true,\n        message: '<strong class=\"my-notify\">您无此页面的权限哟</strong>'\n      });\n      next({\n        path: '/center'\n      });\n      return;\n    }\n  } // 路由发生变化重新计时\n\n\n  Vue.prototype.$_lin_jump(); // 路由发生变化修改页面title\n\n  if (to.meta.title) {\n    document.title = to.meta.title;\n  }\n\n  next();\n});\nexport default router;",null]}