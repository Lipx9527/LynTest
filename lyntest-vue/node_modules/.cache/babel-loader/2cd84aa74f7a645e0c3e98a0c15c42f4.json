{"remainingRequest":"/Users/lyn/Desktop/mmdz_ceshi/lyntest-vue/node_modules/babel-loader/lib/index.js!/Users/lyn/Desktop/mmdz_ceshi/lyntest-vue/node_modules/cache-loader/dist/cjs.js??ref--0-0!/Users/lyn/Desktop/mmdz_ceshi/lyntest-vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lyn/Desktop/mmdz_ceshi/lyntest-vue/src/component/layout/nav-bar.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lyn/Desktop/mmdz_ceshi/lyntest-vue/src/component/layout/nav-bar.vue","mtime":1606834545493},{"path":"/Users/lyn/Desktop/mmdz_ceshi/lyntest-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lyn/Desktop/mmdz_ceshi/lyntest-vue/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lyn/Desktop/mmdz_ceshi/lyntest-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lyn/Desktop/mmdz_ceshi/lyntest-vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\nimport Breadcrumb from './breadcrumb'; // import Screenfull from './screen-full'\n\nimport User from './user';\nimport ClearTab from './clear-tab';\nexport default {\n  name: 'NavBar',\n  created: function created() {// this.$connect(this.path, { format: 'json' })\n    // this.$options.sockets.onmessage = data => {\n    //   console.log(JSON.parse(data.data))\n    //   this.messages.push(JSON.parse(data.data))\n    // }\n    // this.$options.sockets.onerror = err => {\n    //   console.log(err)\n    //   this.$message.error('token已过期,请重新登录')\n    //   store.dispatch('loginOut')\n    //   const { origin } = window.location\n    //   window.location.href = origin\n    // }\n  },\n  watch: {\n    messages: {\n      handler: function handler() {\n        this.value = this.messages.filter(function (msg) {\n          return msg.is_read === false;\n        }).length;\n\n        if (this.value === 0) {\n          this.hidden = true;\n        } else {\n          this.hidden = false;\n        }\n      },\n      immediate: true\n    }\n  },\n  data: function data() {\n    return {\n      value: 0,\n      hidden: true,\n      messages: [// { is_read: false, id: 45, time: '03-14 09:35:19', user: 'root', content: '《测试》' }\n      ]\n    };\n  },\n  methods: {\n    readAll: function readAll() {\n      console.log('点击了readAll');\n    },\n    viewAll: function viewAll() {\n      console.log('点击了viewAll');\n    },\n    readMessages: function readMessages(msg, index) {\n      this.messages[index].is_read = true;\n    }\n  },\n  components: {\n    Breadcrumb: Breadcrumb,\n    User: User,\n    ClearTab: ClearTab\n  }\n};",{"version":3,"sources":["nav-bar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA,OAAA,UAAA,MAAA,cAAA,C,CACA;;AACA,OAAA,IAAA,MAAA,QAAA;AACA,OAAA,QAAA,MAAA,aAAA;AAEA,eAAA;AACA,EAAA,IAAA,EAAA,QADA;AAEA,EAAA,OAFA,qBAEA,CACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAfA;AAgBA,EAAA,KAAA,EAAA;AACA,IAAA,QAAA,EAAA;AACA,MAAA,OADA,qBACA;AACA,aAAA,KAAA,GAAA,KAAA,QAAA,CAAA,MAAA,CAAA,UAAA,GAAA;AAAA,iBAAA,GAAA,CAAA,OAAA,KAAA,KAAA;AAAA,SAAA,EAAA,MAAA;;AACA,YAAA,KAAA,KAAA,KAAA,CAAA,EAAA;AACA,eAAA,MAAA,GAAA,IAAA;AACA,SAFA,MAEA;AACA,eAAA,MAAA,GAAA,KAAA;AACA;AACA,OARA;AASA,MAAA,SAAA,EAAA;AATA;AADA,GAhBA;AA6BA,EAAA,IA7BA,kBA6BA;AACA,WAAA;AACA,MAAA,KAAA,EAAA,CADA;AAEA,MAAA,MAAA,EAAA,IAFA;AAGA,MAAA,QAAA,EAAA,CACA;AADA;AAHA,KAAA;AAOA,GArCA;AAsCA,EAAA,OAAA,EAAA;AACA,IAAA,OADA,qBACA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,YAAA;AACA,KAHA;AAIA,IAAA,OAJA,qBAIA;AACA,MAAA,OAAA,CAAA,GAAA,CAAA,YAAA;AACA,KANA;AAOA,IAAA,YAPA,wBAOA,GAPA,EAOA,KAPA,EAOA;AACA,WAAA,QAAA,CAAA,KAAA,EAAA,OAAA,GAAA,IAAA;AACA;AATA,GAtCA;AAiDA,EAAA,UAAA,EAAA;AACA,IAAA,UAAA,EAAA,UADA;AAEA,IAAA,IAAA,EAAA,IAFA;AAGA,IAAA,QAAA,EAAA;AAHA;AAjDA,CAAA","sourcesContent":["<template>\n  <div class=\"app-nav-bar\">\n    <div class=\"nav-content\">\n      <breadcrumb />\n      <!-- 暂时放这里 -->\n      <div class=\"right-info\">\n        <lin-notify\n          height=\"370\"\n          @readMessages=\"readMessages\"\n          :trigger=\"'click'\"\n          :messages=\"messages\"\n          @readAll=\"readAll\"\n          @viewAll=\"viewAll\"\n          class=\"lin-notify\"\n          :value=\"value\"\n          :hidden=\"hidden\"\n        >\n        </lin-notify>\n        <clear-tab></clear-tab>\n        <!--<screenfull/>-->\n        <user/>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Breadcrumb from './breadcrumb'\n// import Screenfull from './screen-full'\nimport User from './user'\nimport ClearTab from './clear-tab'\n\nexport default {\n  name: 'NavBar',\n  created() {\n    // this.$connect(this.path, { format: 'json' })\n    // this.$options.sockets.onmessage = data => {\n    //   console.log(JSON.parse(data.data))\n    //   this.messages.push(JSON.parse(data.data))\n    // }\n    // this.$options.sockets.onerror = err => {\n    //   console.log(err)\n    //   this.$message.error('token已过期,请重新登录')\n    //   store.dispatch('loginOut')\n    //   const { origin } = window.location\n    //   window.location.href = origin\n    // }\n  },\n  watch: {\n    messages: {\n      handler() {\n        this.value = this.messages.filter(msg => msg.is_read === false).length\n        if (this.value === 0) {\n          this.hidden = true\n        } else {\n          this.hidden = false\n        }\n      },\n      immediate: true,\n    },\n  },\n  data() {\n    return {\n      value: 0,\n      hidden: true,\n      messages: [\n        // { is_read: false, id: 45, time: '03-14 09:35:19', user: 'root', content: '《测试》' }\n      ]\n    }\n  },\n  methods: {\n    readAll() {\n      console.log('点击了readAll')\n    },\n    viewAll() {\n      console.log('点击了viewAll')\n    },\n    readMessages(msg, index) {\n      this.messages[index].is_read = true\n    },\n  },\n  components: {\n    Breadcrumb,\n    User,\n    ClearTab,\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.lin-notify {\n  margin-right: 20px;\n}\n.app-nav-bar {\n  width: 100%;\n  height: $navbar-height;\n  display: flex;\n  align-items: center;\n  .logo.js-min-logo {\n    width: 64px;\n    font-size: 16px;\n    color: #fff;\n  }\n  .nav-content {\n    flex: 1;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding-left: 10px;\n    padding-right: $navbar-padding;\n    .right-info {\n      display: flex;\n      align-items: center;\n    }\n  }\n}\n</style>\n"],"sourceRoot":"src/component/layout"}]}