{"remainingRequest":"/Users/lyn/Desktop/lyntest/lyntest-vue/node_modules/thread-loader/dist/cjs.js!/Users/lyn/Desktop/lyntest/lyntest-vue/node_modules/babel-loader/lib/index.js!/Users/lyn/Desktop/lyntest/lyntest-vue/node_modules/eslint-loader/index.js??ref--13-0!/Users/lyn/Desktop/lyntest/lyntest-vue/src/lin/directive/authorize.js","dependencies":[{"path":"/Users/lyn/Desktop/lyntest/lyntest-vue/src/lin/directive/authorize.js","mtime":1606834545473},{"path":"/Users/lyn/Desktop/lyntest/lyntest-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lyn/Desktop/lyntest/lyntest-vue/node_modules/thread-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lyn/Desktop/lyntest/lyntest-vue/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lyn/Desktop/lyntest/lyntest-vue/node_modules/eslint-loader/index.js","mtime":499162500000}],"contextDependencies":[],"result":["import Vue from 'vue';\nimport store from '@/store';\n\nfunction isAllowed(permission, user, permissions) {\n  if (user.admin) {\n    return true;\n  }\n\n  if (typeof permission === 'string') {\n    return permissions.includes(permission);\n  }\n\n  if (permission instanceof Array) {\n    return permission.some(function (auth) {\n      return permissions.indexOf(auth) >= 0;\n    });\n  }\n\n  return false;\n}\n\nVue.directive('permission', {\n  bind: function bind(el, binding) {\n    var permission;\n    var type;\n\n    if (Object.prototype.toString.call(binding.value) === '[object Object]') {\n      // eslint-disable-next-line prefer-destructuring\n      permission = binding.value.permission; // eslint-disable-next-line prefer-destructuring\n\n      type = binding.value.type;\n    } else {\n      permission = binding.value;\n    }\n\n    var isAllow = isAllowed(permission, store.state.user || {}, store.state.permissions);\n    var element = el;\n\n    if (!isAllow && permission) {\n      if (type) {\n        element.disabled = true;\n        element.style.opacity = 0.4;\n        element.style.cursor = 'not-allowed';\n      } else {\n        element.style.display = 'none';\n      }\n    }\n  }\n});\nexport default Vue.directive('permission');",null]}