{"remainingRequest":"/Users/lyn/Desktop/mmdz_ceshi/lyntest-vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lyn/Desktop/mmdz_ceshi/lyntest-vue/src/view/data-platform/order/rmq.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lyn/Desktop/mmdz_ceshi/lyntest-vue/src/view/data-platform/order/rmq.vue","mtime":1606834545555},{"path":"/Users/lyn/Desktop/mmdz_ceshi/lyntest-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lyn/Desktop/mmdz_ceshi/lyntest-vue/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lyn/Desktop/mmdz_ceshi/lyntest-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lyn/Desktop/mmdz_ceshi/lyntest-vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport Orders from '@/model/dpf/orders'\nimport Ubt from '@/model/dpf/ubt'\n\nexport default {\n  data() {\n    return {\n      form: {\n        id: 0,\n        json_detail: '',\n      },\n      mq_list: [],\n    }\n  },\n  mounted() {\n    this.getMqList()\n  },\n  methods: {\n    async getMqList() {\n      const res = await Orders.getRmqList()\n      this.mq_list = res\n      this.form.id = res[0].id\n      this.form.json_detail = res[0].json_detail\n    },\n    handleMqList(value) {\n      this.mq_list.forEach(item => {\n        if (item.id === value) {\n          this.form.json_detail = item.json_detail\n        }\n      })\n    },\n    async rmqPush() {\n      const res = await Orders.rmqPush(this.form)\n      if (res) {\n        this.$message.success('推送成功')\n      } else {\n        this.$message.error('推送失败')\n      }\n\n      await Ubt.insertUbt('rmq')\n    }\n  }\n}\n",{"version":3,"sources":["rmq.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAyBA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"rmq.vue","sourceRoot":"src/view/data-platform/order","sourcesContent":["<template>\n  <div class=\"container\">\n    <div class=\"header\"><div class=\"title\">RMQ</div></div>\n    <el-row>\n      <el-select v-model=\"form.id\" placeholder=\"请选择\" style=\"width: 300px\" @change=\"handleMqList\" value=\"\">\n        <el-option v-for=\"item in mq_list\" :key=\"item.id\" :value =\"item.id\" :label =\"item.desc\"></el-option>\n      </el-select>\n    </el-row>\n    <br/>\n    <el-row>\n      <el-input\n        type=\"textarea\"\n        :autosize=\"{ minRows: 5, maxRows: 10}\"\n        placeholder=\"请输入要推送的json\"\n        v-model=\"form.json_detail\">\n      </el-input>\n    </el-row>\n    <br/>\n    <el-row>\n      <el-button type=\"primary\" @click=\"rmqPush\">执行</el-button>\n    </el-row>\n  </div>\n</template>\n\n<script>\nimport Orders from '@/model/dpf/orders'\nimport Ubt from '@/model/dpf/ubt'\n\nexport default {\n  data() {\n    return {\n      form: {\n        id: 0,\n        json_detail: '',\n      },\n      mq_list: [],\n    }\n  },\n  mounted() {\n    this.getMqList()\n  },\n  methods: {\n    async getMqList() {\n      const res = await Orders.getRmqList()\n      this.mq_list = res\n      this.form.id = res[0].id\n      this.form.json_detail = res[0].json_detail\n    },\n    handleMqList(value) {\n      this.mq_list.forEach(item => {\n        if (item.id === value) {\n          this.form.json_detail = item.json_detail\n        }\n      })\n    },\n    async rmqPush() {\n      const res = await Orders.rmqPush(this.form)\n      if (res) {\n        this.$message.success('推送成功')\n      } else {\n        this.$message.error('推送失败')\n      }\n\n      await Ubt.insertUbt('rmq')\n    }\n  }\n}\n</script>\n\n<!--suppress CssUnknownTarget -->\n<style lang=\"scss\" scoped>\n  @import \"@/static/css/common.scss\";\n</style>\n"]}]}