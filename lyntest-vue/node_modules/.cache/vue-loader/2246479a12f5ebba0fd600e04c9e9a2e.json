{"remainingRequest":"/Users/lyn/Desktop/mmdz_ceshi/lyntest-vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lyn/Desktop/mmdz_ceshi/lyntest-vue/src/view/api-test/category-config.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lyn/Desktop/mmdz_ceshi/lyntest-vue/src/view/api-test/category-config.vue","mtime":1608082049000},{"path":"/Users/lyn/Desktop/mmdz_ceshi/lyntest-vue/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lyn/Desktop/mmdz_ceshi/lyntest-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lyn/Desktop/mmdz_ceshi/lyntest-vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport Category from '@/model/autotest/category'\n\nexport default {\n  data() {\n    return {\n      operation_type: 1,\n      category_list: [],\n      category_info: {\n        category_name: '',\n        description: '',\n      },\n      dialog_visible: false\n    }\n  },\n  mounted() {\n    this.getCategoryList()\n  },\n  methods: {\n    // 获取系统列表\n    async getCategoryList() {\n      const res = await Category.getCategoryList()\n      this.category_list = res\n    },\n    createCategory() {\n      this.dialog_visible = true\n      this.operation_type = 1\n    },\n    async saveCategory() {\n      const res = this.operation_type === 1 ? await Category.createCategory(this.category_info) : await Category.updateCategory(this.category_info)\n      if (res.code < window.MAX_SUCCESS_CODE) {\n        this.$message.success(res.message)\n        this.dialog_visible = false\n        this.getCategoryList()\n      } else {\n        this.$message.error('服务端异常')\n      }\n    },\n    handleEdit(row) {\n      this.dialog_visible = true\n      this.operation_type = 2\n      this.category_info = { ...row }\n    },\n    async handleDelete(id) {\n      const res = await Category.deleteCategory(id)\n      if (res.code < window.MAX_SUCCESS_CODE) {\n        this.$message.success(res.message)\n        this.getCategoryList()\n      } else {\n        this.$message.error('删除功能异常')\n      }\n    },\n    closeEdit() {\n      this.dialog_visible = false\n      this.$refs.categoryForm.resetFields()\n    }\n  }\n}\n",null]}