{"remainingRequest":"/Users/lyn/Desktop/lyntest/lyntest-vue/node_modules/vue-loader/lib/index.js??vue-loader-options!/Users/lyn/Desktop/lyntest/lyntest-vue/src/component/layout/nav-bar.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Users/lyn/Desktop/lyntest/lyntest-vue/src/component/layout/nav-bar.vue","mtime":1606834545493},{"path":"/Users/lyn/Desktop/lyntest/lyntest-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lyn/Desktop/lyntest/lyntest-vue/node_modules/babel-loader/lib/index.js","mtime":499162500000},{"path":"/Users/lyn/Desktop/lyntest/lyntest-vue/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Users/lyn/Desktop/lyntest/lyntest-vue/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport Breadcrumb from './breadcrumb'\n// import Screenfull from './screen-full'\nimport User from './user'\nimport ClearTab from './clear-tab'\n\nexport default {\n  name: 'NavBar',\n  created() {\n    // this.$connect(this.path, { format: 'json' })\n    // this.$options.sockets.onmessage = data => {\n    //   console.log(JSON.parse(data.data))\n    //   this.messages.push(JSON.parse(data.data))\n    // }\n    // this.$options.sockets.onerror = err => {\n    //   console.log(err)\n    //   this.$message.error('token已过期,请重新登录')\n    //   store.dispatch('loginOut')\n    //   const { origin } = window.location\n    //   window.location.href = origin\n    // }\n  },\n  watch: {\n    messages: {\n      handler() {\n        this.value = this.messages.filter(msg => msg.is_read === false).length\n        if (this.value === 0) {\n          this.hidden = true\n        } else {\n          this.hidden = false\n        }\n      },\n      immediate: true,\n    },\n  },\n  data() {\n    return {\n      value: 0,\n      hidden: true,\n      messages: [\n        // { is_read: false, id: 45, time: '03-14 09:35:19', user: 'root', content: '《测试》' }\n      ]\n    }\n  },\n  methods: {\n    readAll() {\n      console.log('点击了readAll')\n    },\n    viewAll() {\n      console.log('点击了viewAll')\n    },\n    readMessages(msg, index) {\n      this.messages[index].is_read = true\n    },\n  },\n  components: {\n    Breadcrumb,\n    User,\n    ClearTab,\n  },\n}\n",{"version":3,"sources":["nav-bar.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;AA2BA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"nav-bar.vue","sourceRoot":"src/component/layout","sourcesContent":["<template>\n  <div class=\"app-nav-bar\">\n    <div class=\"nav-content\">\n      <breadcrumb />\n      <!-- 暂时放这里 -->\n      <div class=\"right-info\">\n        <lin-notify\n          height=\"370\"\n          @readMessages=\"readMessages\"\n          :trigger=\"'click'\"\n          :messages=\"messages\"\n          @readAll=\"readAll\"\n          @viewAll=\"viewAll\"\n          class=\"lin-notify\"\n          :value=\"value\"\n          :hidden=\"hidden\"\n        >\n        </lin-notify>\n        <clear-tab></clear-tab>\n        <!--<screenfull/>-->\n        <user/>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport Breadcrumb from './breadcrumb'\n// import Screenfull from './screen-full'\nimport User from './user'\nimport ClearTab from './clear-tab'\n\nexport default {\n  name: 'NavBar',\n  created() {\n    // this.$connect(this.path, { format: 'json' })\n    // this.$options.sockets.onmessage = data => {\n    //   console.log(JSON.parse(data.data))\n    //   this.messages.push(JSON.parse(data.data))\n    // }\n    // this.$options.sockets.onerror = err => {\n    //   console.log(err)\n    //   this.$message.error('token已过期,请重新登录')\n    //   store.dispatch('loginOut')\n    //   const { origin } = window.location\n    //   window.location.href = origin\n    // }\n  },\n  watch: {\n    messages: {\n      handler() {\n        this.value = this.messages.filter(msg => msg.is_read === false).length\n        if (this.value === 0) {\n          this.hidden = true\n        } else {\n          this.hidden = false\n        }\n      },\n      immediate: true,\n    },\n  },\n  data() {\n    return {\n      value: 0,\n      hidden: true,\n      messages: [\n        // { is_read: false, id: 45, time: '03-14 09:35:19', user: 'root', content: '《测试》' }\n      ]\n    }\n  },\n  methods: {\n    readAll() {\n      console.log('点击了readAll')\n    },\n    viewAll() {\n      console.log('点击了viewAll')\n    },\n    readMessages(msg, index) {\n      this.messages[index].is_read = true\n    },\n  },\n  components: {\n    Breadcrumb,\n    User,\n    ClearTab,\n  },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.lin-notify {\n  margin-right: 20px;\n}\n.app-nav-bar {\n  width: 100%;\n  height: $navbar-height;\n  display: flex;\n  align-items: center;\n  .logo.js-min-logo {\n    width: 64px;\n    font-size: 16px;\n    color: #fff;\n  }\n  .nav-content {\n    flex: 1;\n    height: 100%;\n    display: flex;\n    align-items: center;\n    justify-content: space-between;\n    padding-left: 10px;\n    padding-right: $navbar-padding;\n    .right-info {\n      display: flex;\n      align-items: center;\n    }\n  }\n}\n</style>\n"]}]}