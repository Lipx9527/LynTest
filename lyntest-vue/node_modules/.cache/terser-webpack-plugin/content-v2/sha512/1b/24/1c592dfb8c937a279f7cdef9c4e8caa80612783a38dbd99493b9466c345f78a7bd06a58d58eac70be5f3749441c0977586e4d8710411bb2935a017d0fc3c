{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-87a6b16e\"],{\"0443\":function(e,t,a){\"use strict\";var r=a(\"f2a8\"),i=a.n(r);i.a},e42c:function(e,t,a){\"use strict\";a.r(t);var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",[a(\"el-card\",{staticStyle:{\"margin-bottom\":\"5px\",\"margin-top\":\"5px\"}},[a(\"el-input\",{staticStyle:{width:\"150px\"},attrs:{placeholder:\"接口名称\"},on:{change:e.searchCaseList},model:{value:e.search.case_name,callback:function(t){e.$set(e.search,\"case_name\",t)},expression:\"search.case_name\"}}),a(\"el-select\",{staticStyle:{width:\"150px\",\"margin-left\":\"10px\"},attrs:{placeholder:\"系 统\",clearable:\"\",filterable:\"\"},on:{change:e.searchCaseList},model:{value:e.search.category,callback:function(t){e.$set(e.search,\"category\",t)},expression:\"search.category\"}},e._l(e.category_list,function(e){return a(\"el-option\",{key:e.category_name,attrs:{label:e.category_name,value:e.category_name}})}),1),a(\"el-select\",{staticStyle:{width:\"150px\",\"margin-left\":\"10px\"},attrs:{placeholder:\"创建人\",clearable:\"\",filterable:\"\"},on:{change:e.searchCaseList},model:{value:e.search.creater_code,callback:function(t){e.$set(e.search,\"creater_code\",t)},expression:\"search.creater_code\"}},e._l(e.creater_list,function(t){return a(\"el-option\",{key:t.creater_code,attrs:{label:t.creater_name,value:t.creater_code}},[a(\"span\",{staticStyle:{float:\"left\"}},[e._v(e._s(t.creater_name))]),a(\"span\",{staticStyle:{float:\"right\",color:\"#8492a6\",\"font-size\":\"13px\"}},[e._v(e._s(t.creater_code))])])}),1)],1),a(\"el-card\",[a(\"el-row\",[a(\"el-button\",{attrs:{type:\"primary\",size:\"small\"},on:{click:e.createCase}},[e._v(\"新 增\")]),a(\"el-button\",{attrs:{type:\"primary\",size:\"small\"},on:{click:e.copyCase}},[e._v(\"复 制\")]),a(\"el-button\",{attrs:{type:\"primary\",size:\"small\"},on:{click:e.confirmDeleteCase}},[e._v(\"删 除\")]),a(\"el-pagination\",{staticStyle:{float:\"right\"},attrs:{background:\"\",\"current-page\":e.search.page,\"page-size\":e.search.count,\"page-sizes\":[10,20,50,100],total:e.total,layout:\"total, sizes, prev, pager, next\"},on:{\"size-change\":e.handleSizeChange,\"current-change\":e.handleCurrentChange}}),a(\"el-dialog\",{attrs:{visible:e.table.deleteConfirmDialogVisible,width:\"400px\"},on:{\"update:visible\":function(t){return e.$set(e.table,\"deleteConfirmDialogVisible\",t)}}},[a(\"span\",[e._v(\"确认删除？\")]),a(\"span\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[a(\"el-button\",{on:{click:function(t){e.table.deleteConfirmDialogVisible=!1}}},[e._v(\"取 消\")]),a(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.deleteCase}},[e._v(\"确 定\")])],1)])],1),a(\"br\"),a(\"el-row\",[a(\"el-table\",{ref:\"multipleTable\",attrs:{data:e.table_data,\"tooltip-effect\":\"dark\",stripe:\"\"},on:{\"selection-change\":e.tableSelectionChange}},[a(\"el-table-column\",{attrs:{type:\"selection\",width:\"35\",fixed:\"\"}}),a(\"el-table-column\",{attrs:{prop:\"case_name\",label:\"接口名称\",\"min-width\":\"200\",fixed:\"\"}}),a(\"el-table-column\",{attrs:{prop:\"api_method\",\"min-width\":\"100\",label:\"请求方式\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[a(\"div\",{class:t.row.api_method},[e._v(e._s(t.row.api_method))])]}}])}),a(\"el-table-column\",{attrs:{label:\"接口路径\",prop:\"api_url\",\"show-overflow-tooltip\":!0,\"min-width\":\"440\"}}),a(\"el-table-column\",{attrs:{prop:\"category\",label:\"系 统\",\"min-width\":\"100\",sortable:\"\"}}),a(\"el-table-column\",{attrs:{prop:\"creater_name\",label:\"创建人\",width:\"120\"}}),a(\"el-table-column\",{attrs:{label:\"备注\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[t.row.description?a(\"el-tooltip\",{attrs:{effect:\"dark\",placement:\"top-start\"}},[a(\"div\",{attrs:{slot:\"content\"},slot:\"content\"},[e._v(e._s(t.row.description))]),a(\"l-icon\",{attrs:{name:\"read\",color:\"#409EFF\",height:\"1.6em\",width:\"1.6em\"}})],1):a(\"l-icon\",{attrs:{name:\"read\",color:\"#ccc\",height:\"1.6em\",width:\"1.6em\"}})]}}])}),a(\"el-table-column\",{attrs:{align:\"center\",fixed:\"right\",label:\"操作\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[a(\"el-tooltip\",{attrs:{content:\"编辑\",placement:\"bottom\",enterable:!1,effect:\"dark\"}},[a(\"el-button\",{attrs:{type:\"primary\",icon:\"el-icon-edit\",circle:\"\",size:\"mini\"},on:{click:function(a){return e.handleEdit(t.row)}}})],1)]}}])})],1)],1)],1),a(\"el-drawer\",{attrs:{visible:e.drawer_visible,\"with-header\":e.drawer_title,size:\"70%\"},on:{\"update:visible\":function(t){e.drawer_visible=t}}},[e.drawer_visible?a(\"http-case-edit\",{attrs:{\"case-info\":e.case_info,\"operation-type\":e.operation_type},on:{\"drawer-close\":e.drawerClose}}):e._e()],1)],1)},i=[],n=a(\"a34a\"),s=a.n(n),l=a(\"104e\"),o=a(\"1aa7\"),c=a(\"d3c9\");function u(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),a.push.apply(a,r)}return a}function h(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?u(a,!0).forEach(function(t){p(e,t,a[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):u(a).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))})}return e}function p(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}function d(e,t,a,r,i,n,s){try{var l=e[n](s),o=l.value}catch(c){return void a(c)}l.done?t(o):Promise.resolve(o).then(r,i)}function f(e){return function(){var t=this,a=arguments;return new Promise(function(r,i){var n=e.apply(t,a);function s(e){d(n,r,i,s,l,\"next\",e)}function l(e){d(n,r,i,s,l,\"throw\",e)}s(void 0)})}}var b={components:{HttpCaseEdit:o[\"default\"]},data:function(){return{operation_type:0,search:{case_name:\"\",category:\"\",creater_code:\"\",page:1,count:10},creater_list:[],category_list:[],edit_dialog_visible:!1,case_info:{},total:null,table:{deleteConfirmDialogVisible:!1,multipleSelection:[],ids:[]},table_data:[],drawer_title:!1,drawer_visible:!1}},mounted:function(){this.getCategoryList(),this.getCreaterList(),this.searchCaseList()},methods:{getCategoryList:function(){var e=f(s.a.mark(function e(){var t;return s.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,c[\"default\"].getCategoryList();case 2:t=e.sent,this.category_list=t;case 4:case\"end\":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),getCreaterList:function(){var e=f(s.a.mark(function e(){var t;return s.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l[\"default\"].getCreaterList();case 2:t=e.sent,this.creater_list=t;case 4:case\"end\":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),searchCaseList:function(){var e=f(s.a.mark(function e(){var t;return s.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,l[\"default\"].searchCaseList(this.search);case 2:t=e.sent,this.table_data=t.items,this.total=t.total;case 5:case\"end\":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),createCase:function(){this.case_info=h({},this.default_case_info),this.drawer_visible=!0,this.operation_type=1},copyCase:function(){1===this.table.multipleSelection.length?(this.case_info=h({},this.table.multipleSelection[0]),this.saveCase()):this.$message.warning(\"使用复制时必须且只能选中一条case！\")},confirmDeleteCase:function(){this.table.multipleSelection.length>0?this.table.deleteConfirmDialogVisible=!0:this.$message.warning(\"请选择至少一条case！\")},deleteCase:function(){var e=f(s.a.mark(function e(){var t,a=this;return s.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return this.table.ids=[],this.table.multipleSelection.forEach(function(e){a.table.ids.push(e.id)}),e.next=4,l[\"default\"].deleteCase(this.table.ids);case 4:t=e.sent,t.code<window.MAX_SUCCESS_CODE?(this.$message.success(\"\".concat(t.message)),this.table.deleteConfirmDialogVisible=!1,this.searchCaseList()):this.$message.error(t.message);case 6:case\"end\":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),handleSizeChange:function(e){this.search.count=e,this.searchCaseList()},handleCurrentChange:function(e){this.search.page=e,this.searchCaseList()},tableSelectionChange:function(e){this.table.multipleSelection=e},handleEdit:function(e){this.drawer_visible=!0,this.operation_type=2,this.case_info=h({},e)},drawerClose:function(){this.drawer_visible=!1,this.searchCaseList()}}},m=b,g=(a(\"0443\"),a(\"2877\")),_=Object(g[\"a\"])(m,r,i,!1,null,\"7b2558d6\",null);t[\"default\"]=_.exports},f2a8:function(e,t,a){}}]);","extractedComments":[]}