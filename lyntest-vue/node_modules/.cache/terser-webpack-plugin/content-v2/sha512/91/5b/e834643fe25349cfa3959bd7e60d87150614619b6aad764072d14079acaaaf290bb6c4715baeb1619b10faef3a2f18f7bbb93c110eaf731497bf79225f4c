{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-71d54f04\",\"chunk-e7e88524\",\"chunk-2d0c7d1d\"],{\"0bf7\":function(e,t,n){\"use strict\";var r=n(\"757f\"),a=n.n(r);a.a},\"47dd\":function(e,t,n){\"use strict\";var r=n(\"676e\"),a=n.n(r);a.a},\"51f1\":function(e,t,n){\"use strict\";n.r(t);var r=n(\"a34a\"),a=n.n(r),o=n(\"ceda\");function c(e,t,n,r,a,o,c){try{var i=e[o](c),s=i.value}catch(l){return void n(l)}i.done?t(s):Promise.resolve(s).then(r,a)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function i(e){c(o,r,a,i,s,\"next\",e)}function s(e){c(o,r,a,i,s,\"throw\",e)}i(void 0)})}}function s(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}var p=function(){function e(){s(this,e)}return u(e,[{key:\"getAllProkect\",value:function(){var e=i(a.a.mark(function e(){var t;return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o[\"get\"])(\"/track/project/all\");case 2:return t=e.sent,e.abrupt(\"return\",t);case 4:case\"end\":return e.stop()}},e)}));function t(){return e.apply(this,arguments)}return t}()},{key:\"searchProjectList\",value:function(){var e=i(a.a.mark(function e(t){var n;return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o[\"post\"])(\"/track/project/list\",t);case 2:return n=e.sent,e.abrupt(\"return\",n);case 4:case\"end\":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()},{key:\"getNewProject\",value:function(){var e=i(a.a.mark(function e(t){var n,r;return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return n={name:\"\",page:1,count:t},e.next=3,Object(o[\"post\"])(\"/track/project/list\",n);case 3:return r=e.sent,e.abrupt(\"return\",r);case 5:case\"end\":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()},{key:\"createProject\",value:function(){var e=i(a.a.mark(function e(t){var n;return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o[\"post\"])(\"/track/project/create\",t);case 2:return n=e.sent,e.abrupt(\"return\",n);case 4:case\"end\":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()},{key:\"updateProject\",value:function(){var e=i(a.a.mark(function e(t){var n;return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o[\"post\"])(\"/track/project/update\",t);case 2:return n=e.sent,e.abrupt(\"return\",n);case 4:case\"end\":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()},{key:\"deleteProject\",value:function(){var e=i(a.a.mark(function e(t){var n;return a.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,Object(o[\"_delete\"])(\"/track/project/\".concat(t));case 2:return n=e.sent,e.abrupt(\"return\",n);case 4:case\"end\":return e.stop()}},e)}));function t(t){return e.apply(this,arguments)}return t}()}]),e}();t[\"default\"]=new p},\"676e\":function(e,t,n){},\"757f\":function(e,t,n){},a7b1:function(e,t,n){\"use strict\";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"lin-search\"},[n(\"el-input\",{staticClass:\"input-with-select\",attrs:{size:\"medium\",placeholder:e.placeholder,clearable:\"\"},on:{change:e.handleChange},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:\"keyword\"}},[n(\"el-button\",{attrs:{slot:\"append\",icon:\"el-icon-search\"},slot:\"append\"})],1)],1)},a=[],o=n(\"a34a\"),c=n.n(o);function i(e,t,n,r,a,o,c){try{var i=e[o](c),s=i.value}catch(l){return void n(l)}i.done?t(s):Promise.resolve(s).then(r,a)}function s(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function c(e){i(o,r,a,c,s,\"next\",e)}function s(e){i(o,r,a,c,s,\"throw\",e)}c(void 0)})}}var l={props:{placeholder:{type:String,default:\"请输入内容\"}},data:function(){return{keyword:\"\"}},methods:{clear:function(){this.keyword=\"\"},handleChange:function(){var e=s(c.a.mark(function e(t){return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.$emit(\"input\",t),this.$emit(\"change\",t);case 2:case\"end\":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}()}},u=l,p=(n(\"0bf7\"),n(\"2877\")),f=Object(p[\"a\"])(u,r,a,!1,null,\"17b355a7\",null);t[\"default\"]=f.exports},d72f:function(e,t,n){\"use strict\";n.r(t);var r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n(\"div\",{staticClass:\"container\"},[n(\"div\",{staticClass:\"header\"},[n(\"div\",{staticClass:\"header-left\"},[n(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.createProject}},[e._v(\"创建项目 \"),n(\"i\",{staticClass:\"el-icon-circle-plus-outline\\n\"})])],1),n(\"div\",{staticClass:\"header-right\"},[n(\"lyn-search\",{attrs:{placeholder:\"项目名筛选\"},on:{change:e.searchProject},model:{value:e.search.name,callback:function(t){e.$set(e.search,\"name\",t)},expression:\"search.name\"}}),n(\"el-pagination\",{attrs:{background:\"\",\"current-page\":e.search.page,\"page-size\":e.search.count,\"page-sizes\":[10,20,50,100],total:e.total,layout:\"total, sizes, prev, pager, next\"},on:{\"size-change\":e.handleSizeChange,\"current-change\":e.handleCurrentChange}})],1)]),n(\"el-table\",{staticClass:\"adjust-table\",staticStyle:{width:\"100%\"},attrs:{data:e.project_list}},[n(\"el-table-column\",{attrs:{prop:\"name\",label:\"项目名\",width:\"250\",\"show-overflow-tooltip\":\"\"}}),n(\"el-table-column\",{attrs:{prop:\"description\",label:\"描述\",\"show-overflow-tooltip\":\"\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[t.row.description?n(\"el-tooltip\",{attrs:{effect:\"dark\",placement:\"top-start\"}},[n(\"div\",{attrs:{slot:\"content\"},slot:\"content\"},[e._v(e._s(t.row.description))]),n(\"l-icon\",{attrs:{name:\"read\",color:\"#409EFF\",height:\"1.6em\",width:\"1.6em\"}})],1):n(\"l-icon\",{attrs:{name:\"read\",color:\"#ccc\",height:\"1.6em\",width:\"1.6em\"}})]}}])}),n(\"el-table-column\",{attrs:{sortable:\"\",prop:\"create_time\",label:\"创建时间\",\"show-overflow-tooltip\":\"\"}}),n(\"el-table-column\",{attrs:{sortable:\"\",prop:\"update_time\",label:\"更新时间\",\"show-overflow-tooltip\":\"\"}}),n(\"el-table-column\",{attrs:{label:\"操作\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[n(\"el-tooltip\",{attrs:{content:\"编辑\",placement:\"bottom\",enterable:!1,effect:\"dark\"}},[n(\"el-button\",{attrs:{size:\"small\",type:\"primary\",icon:\"el-icon-edit\",circle:\"\"},on:{click:function(n){return e.handleEdit(t.row)}}})],1),n(\"el-tooltip\",{attrs:{content:\"删除\",placement:\"bottom\",enterable:!1,effect:\"dark\"}},[n(\"el-button\",{attrs:{size:\"small\",type:\"danger\",icon:\"el-icon-delete\",circle:\"\"},on:{click:function(n){return e.handleDelete(t.row.id)}}})],1)]}}])})],1),n(\"el-dialog\",{attrs:{\"close-on-click-modal\":!1,visible:e.dialog_visible,\"destroy-on-close\":\"\",width:\"400px\"},on:{\"update:visible\":function(t){e.dialog_visible=t},close:e.closeEdit}},[n(\"el-form\",{ref:\"project_info\",attrs:{model:e.project_info,\"label-position\":\"right\",\"label-width\":\"80px\",size:\"small\"}},[n(\"el-form-item\",{attrs:{label:\"名称\",prop:\"name\"}},[n(\"el-input\",{staticStyle:{width:\"240px\"},attrs:{autocomplete:\"off\"},model:{value:e.project_info.name,callback:function(t){e.$set(e.project_info,\"name\",t)},expression:\"project_info.name\"}})],1),n(\"el-form-item\",{attrs:{label:\"描述\",prop:\"description\"}},[n(\"el-input\",{staticStyle:{width:\"240px\"},attrs:{autosize:{minRows:3,maxRows:5},type:\"textarea\"},model:{value:e.project_info.description,callback:function(t){e.$set(e.project_info,\"description\",t)},expression:\"project_info.description\"}})],1)],1),n(\"span\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[n(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.saveProject}},[e._v(\"保 存\")]),n(\"el-button\",{on:{click:e.closeEdit}},[e._v(\"取 消\")])],1)],1)],1)},a=[],o=n(\"a34a\"),c=n.n(o),i=n(\"a7b1\"),s=n(\"51f1\");function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function u(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(n,!0).forEach(function(t){p(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(n).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function f(e,t,n,r,a,o,c){try{var i=e[o](c),s=i.value}catch(l){return void n(l)}i.done?t(s):Promise.resolve(s).then(r,a)}function h(e){return function(){var t=this,n=arguments;return new Promise(function(r,a){var o=e.apply(t,n);function c(e){f(o,r,a,c,i,\"next\",e)}function i(e){f(o,r,a,c,i,\"throw\",e)}c(void 0)})}}var d={name:\"project\",components:{LynSearch:i[\"default\"]},data:function(){return{dialog_visible:!1,search:{name:\"\",count:10,page:1},total:0,operation_type:null,project_list:[],project_info:{},default_project_info:{name:\"\",description:\"\"},popover_visible:!1}},methods:{searchProject:function(){var e=h(c.a.mark(function e(){var t;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s[\"default\"].searchProjectList(this.search);case 2:t=e.sent,this.project_list=t.items,this.total=t.total;case 5:case\"end\":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),createProject:function(){this.dialog_visible=!0,this.operation_type=1,this.project_info=u({},this.default_project_info)},handleEdit:function(e){this.dialog_visible=!0,this.operation_type=2,this.project_info=u({},e)},handleDelete:function(){var e=h(c.a.mark(function e(t){var n=this;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:this.$confirm(\"删除该项目同时，该项目下所有测试资源将同步删除，确定要删除吗?\",\"提示\",{confirmButtonText:\"确定\",cancelButtonText:\"取消\",type:\"warning\"}).then(h(c.a.mark(function e(){var r;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,s[\"default\"].deleteProject(t);case 2:r=e.sent,console.log(r),r.code<window.MAX_SUCCESS_CODE?(n.$message.success(r.message),n.searchProject()):n.$message.error(\"删除功能异常\");case 5:case\"end\":return e.stop()}},e)})));case 1:case\"end\":return e.stop()}},e,this)}));function t(t){return e.apply(this,arguments)}return t}(),saveProject:function(){var e=h(c.a.mark(function e(){var t;return c.a.wrap(function(e){while(1)switch(e.prev=e.next){case 0:if(1!==this.operation_type){e.next=6;break}return e.next=3,s[\"default\"].createProject(this.project_info);case 3:e.t0=e.sent,e.next=9;break;case 6:return e.next=8,s[\"default\"].updateProject(this.project_info);case 8:e.t0=e.sent;case 9:t=e.t0,t.code<window.MAX_SUCCESS_CODE?(this.$message.success(t.message),this.dialog_visible=!1,this.searchProject()):this.$message.error(\"服务端异常\");case 11:case\"end\":return e.stop()}},e,this)}));function t(){return e.apply(this,arguments)}return t}(),handleSizeChange:function(e){this.search.count=e,this.searchProject()},handleCurrentChange:function(e){this.search.page=e,this.searchProject()},closeEdit:function(){this.dialog_visible=!1,this.$refs.project_info.resetFields()}},mounted:function(){this.searchProject()}},v=d,m=(n(\"47dd\"),n(\"2877\")),w=Object(m[\"a\"])(v,r,a,!1,null,\"1ea228b6\",null);t[\"default\"]=w.exports}}]);","extractedComments":[]}